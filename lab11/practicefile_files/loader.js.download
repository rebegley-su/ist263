!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=70)}({1:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENT_READJUSTMENT_WAIT_TIME=t.SPINNER_REMOVAL_WAIT_TIME=t.IMPORT_BUTTON_ID=t.CANCEL_BUTTON_ID=t.FOOTER_ID=t.UPPY_CONTAINER_ID=t.CLOSE_BUTTON_ID=t.HEADER_ID=t.SPINNER_FADE_OUT_CLASS=t.SPINNER_CONTAINER_ID=t.MessageStatus=void 0,function(e){e.cancel="cancel",e.success="success",e.logout="logout",e.open="open",e.options="options"}(t.MessageStatus||(t.MessageStatus={})),t.SPINNER_CONTAINER_ID="spinner-container",t.SPINNER_FADE_OUT_CLASS="fade-out",t.HEADER_ID="header",t.CLOSE_BUTTON_ID="close-button",t.UPPY_CONTAINER_ID="uppy-container",t.FOOTER_ID="buttonscontainer",t.CANCEL_BUTTON_ID="cancel",t.IMPORT_BUTTON_ID="startUpload",t.SPINNER_REMOVAL_WAIT_TIME=600,t.ELEMENT_READJUSTMENT_WAIT_TIME=100},4:function(e,t,r){"use strict";t.a=function(e,t){}},5:function(e,t,r){"use strict";r.r(t);var n=r(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType,o=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"RuleList",(function(){return X})),r.d(t,"SheetsManager",(function(){return Se})),r.d(t,"SheetsRegistry",(function(){return ee})),r.d(t,"create",(function(){return be})),r.d(t,"createGenerateId",(function(){return se})),r.d(t,"createRule",(function(){return p})),r.d(t,"getDynamicStyles",(function(){return xe})),r.d(t,"hasCSSTOMSupport",(function(){return Re})),r.d(t,"sheets",(function(){return te})),r.d(t,"toCssValue",(function(){return v}));var d={}.constructor;function f(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==d)return e;var t={};for(var r in e)t[r]=f(e[r]);return t}function p(e,t,r){void 0===e&&(e="unnamed");var n=r.jss,i=f(t),s=n.plugins.onCreateRule(e,i,r);return s||(e[0],null)}var y=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r},v=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)t&&(t+=", "),t+=y(e[r]," ");else t=y(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function m(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function b(e,t,r){void 0===r&&(r={});var n="";if(!t)return n;var i=r.indent,s=void 0===i?0:i,o=t.fallbacks;!1===r.format&&(s=-1/0);var a=g(r),u=a.linebreak,l=a.space;if(e&&s++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var h=o[c];for(var d in h){var f=h[d];null!=f&&(n&&(n+=u),n+=m(d+":"+l+v(f)+";",s))}}else for(var p in o){var y=o[p];null!=y&&(n&&(n+=u),n+=m(p+":"+l+v(y)+";",s))}for(var b in t){var S=t[b];null!=S&&"fallbacks"!==b&&(n&&(n+=u),n+=m(b+":"+l+v(S)+";",s))}return(n||r.allowEmpty)&&e?(n&&(n=""+u+n+u),m(""+e+l+"{"+n,--s)+m("}",s)):n}var S=/([[\].#*$><+~=|^:(),"'`\s])/g,R="undefined"!=typeof CSS&&CSS.escape,x=function(e){return R?R(e):e.replace(S,"\\$1")},k=function(){function e(e,t,r){this.type="style",this.isProcessed=!1;var n=r.sheet,i=r.Renderer;this.key=e,this.options=r,this.style=t,n?this.renderer=n.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,r){if(void 0===t)return this.style[e];var n=!!r&&r.force;if(!n&&this.style[e]===t)return this;var i=t;r&&!1===r.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var s=null==i||!1===i,o=e in this.style;if(s&&!o&&!n)return this;var a=s&&o;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),O=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var s=n.selector,o=n.scoped,a=n.sheet,u=n.generateId;return s?i.selectorText=s:!1!==o&&(i.id=u(h(h(i)),a),i.selectorText="."+x(i.id)),i}c(t,e);var r=t.prototype;return r.applyTo=function(e){var t=this.renderer;if(t){var r=this.toJSON();for(var n in r)t.setProperty(e,n,r[n])}return this},r.toJSON=function(){var e={};for(var t in this.style){var r=this.style[t];"object"!=typeof r?e[t]=r:Array.isArray(r)&&(e[t]=v(r))}return e},r.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,r)},u(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,r=this.renderable;if(r&&t)t.setSelector(r,e)||t.replaceRule(r,this)}},get:function(){return this.selectorText}}]),t}(k),P={onCreateRule:function(e,t,r){return"@"===e[0]||r.parent&&"keyframes"===r.parent.type?null:new O(e,t,r)}},w={indent:1,children:!0},_=/@([\w-]+)/,I=function(){function e(e,t,r){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(_);for(var s in this.at=i?i[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new X(Object(n.a)({},r,{parent:this})),t)this.rules.add(s,t[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n?(this.options.jss.plugins.onProcessRule(n),n):null},t.replaceRule=function(e,t,r){var n=this.rules.replace(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.toString=function(e){void 0===e&&(e=w);var t=g(e).linebreak;if(null==e.indent&&(e.indent=w.indent),null==e.children&&(e.children=w.children),!1===e.children)return this.query+" {}";var r=this.rules.toString(e);return r?this.query+" {"+t+r+t+"}":""},e}(),j=/@media|@supports\s+/,E={onCreateRule:function(e,t,r){return j.test(e)?new I(e,t,r):null}},T={indent:1,children:!0},A=/@keyframes\s+([\w-]+)/,C=function(){function e(e,t,r){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(A);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var s=r.scoped,o=r.sheet,a=r.generateId;for(var u in this.id=!1===s?this.name:x(a(this,o)),this.rules=new X(Object(n.a)({},r,{parent:this})),t)this.rules.add(u,t[u],Object(n.a)({},r,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=T);var t=g(e).linebreak;if(null==e.indent&&(e.indent=T.indent),null==e.children&&(e.children=T.children),!1===e.children)return this.at+" "+this.id+" {}";var r=this.rules.toString(e);return r&&(r=""+t+r+t),this.at+" "+this.id+" {"+r+"}"},e}(),N=/@keyframes\s+/,M=/\$([\w-]+)/g,U=function(e,t){return"string"==typeof e?e.replace(M,(function(e,r){return r in t?t[r]:e})):e},L=function(e,t,r){var n=e[t],i=U(n,r);i!==n&&(e[t]=i)},D={onCreateRule:function(e,t,r){return"string"==typeof e&&N.test(e)?new C(e,t,r):null},onProcessStyle:function(e,t,r){return"style"===t.type&&r?("animation-name"in e&&L(e,"animation-name",r.keyframes),"animation"in e&&L(e,"animation",r.keyframes),e):e},onChangeValue:function(e,t,r){var n=r.options.sheet;if(!n)return e;switch(t){case"animation":case"animation-name":return U(e,n.keyframes);default:return e}}},q=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,r)},t}(k),V={onCreateRule:function(e,t,r){return r.parent&&"keyframes"===r.parent.type?new q(e,t,r):null}},B=function(){function e(e,t,r){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var r="",n=0;n<this.style.length;n++)r+=b(this.at,this.style[n]),this.style[n+1]&&(r+=t);return r}return b(this.at,this.style,e)},e}(),G=/@font-face/,W={onCreateRule:function(e,t,r){return G.test(e)?new B(e,t,r):null}},F=function(){function e(e,t,r){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,r){return"@viewport"===e||"@-ms-viewport"===e?new F(e,t,r):null}},J=function(){function e(e,t,r){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),z={"@charset":!0,"@import":!0,"@namespace":!0},$=[P,E,D,V,W,H,{onCreateRule:function(e,t,r){return e in z?new J(e,t,r):null}}],K={process:!0},Y={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,r){var i=this.options,s=i.parent,o=i.sheet,a=i.jss,u=i.Renderer,l=i.generateId,c=i.scoped,h=Object(n.a)({classes:this.classes,parent:s,sheet:o,jss:a,Renderer:u,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},r),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(h.selector="."+x(this.classes[d]));var f=p(d,t,h);if(!f)return null;this.register(f);var y=void 0===h.index?this.index.length:h.index;return this.index.splice(y,0,f),f},t.replace=function(e,t,r){var i=this.get(e),s=this.index.indexOf(i);i&&this.remove(i);var o=r;return-1!==s&&(o=Object(n.a)({},r,{index:s})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof O?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof C&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof O?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof C&&delete this.keyframes[e.name]},t.update=function(){var e,t,r;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,r);else for(var n=0;n<this.index.length;n++)this.updateOne(this.index[n],t,r)},t.updateOne=function(t,r,n){void 0===n&&(n=K);var i=this.options,s=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(r,n);else{var a=t.style;if(s.onUpdate(r,t,o,n),n.process&&a&&a!==t.style){for(var u in s.onProcessStyle(t.style,t,o),t.style){var l=t.style[u];l!==a[u]&&t.prop(u,l,Y)}for(var c in a){var h=t.style[c],d=a[c];null==h&&h!==d&&t.prop(c,null,Y)}}}},t.toString=function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=g(e).linebreak,s=0;s<this.index.length;s++){var o=this.index[s].toString(e);(o||n)&&(t&&(t+=i),t+=o)}return t},e}(),Q=function(){function e(e,t){for(var r in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(n.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(r,e[r]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,r){var n=this.rules.get(e);if(!n)return this.addRule(e,t,r);var i=this.rules.replace(e,t,r);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?n.renderable&&this.renderer.replaceRule(n.renderable,i):this.renderer.deleteRule(n)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var r=[];for(var n in e){var i=this.addRule(n,e[n],t);i&&r.push(i)}return r},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,r){return this.rules.updateOne(e,t,r),this},t.toString=function(e){return this.rules.toString(e)},e}(),Z=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,r){for(var n=0;n<this.registry.onCreateRule.length;n++){var i=this.registry.onCreateRule[n](e,t,r);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,r){for(var n=0;n<this.registry.onProcessStyle.length;n++)t.style=this.registry.onProcessStyle[n](t.style,t,r)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,r,n){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,r,n)},t.onChangeValue=function(e,t,r){for(var n=e,i=0;i<this.registry.onChangeValue.length;i++)n=this.registry.onChangeValue[i](n,t,r);return n},t.use=function(e,t){void 0===t&&(t={queue:"external"});var r=this.plugins[t.queue];-1===r.indexOf(e)&&(r.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var r in t)r in e&&e[r].push(t[r]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,r=t.attached,n=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["attached"]),i=g(n).linebreak,s="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=r&&a.attached!==r||(s&&(s+=i),s+=a.toString(n))}return s},u(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),te=new ee,re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ne]&&(re[ne]=0);var ie=re[ne]++,se=function(e){void 0===e&&(e={});var t=0;return function(r,n){t+=1;var i="",s="";return n&&(n.options.classNamePrefix&&(s=n.options.classNamePrefix),null!=n.options.jss.id&&(i=String(n.options.jss.id))),e.minify?""+(s||"c")+ie+i+t:s+r.key+"-"+ie+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},ue=function(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=v(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,n);else{var i=n?n.indexOf("!important"):-1,s=i>-1?n.substr(0,i-1):n;e.style.setProperty(t,s,i>-1?"important":"")}}catch(e){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},he=oe((function(){return document.querySelector("head")}));function de(e){var t=te.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if((r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&"string"==typeof n){var i=function(e){for(var t=he(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var fe=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[r]},ye=function(e,t){var r=e.cssRules.length;return void 0===t||t>r?r:t},ve=function(){function e(e){this.getPropertyValue=ae,this.setProperty=ue,this.removeProperty=le,this.setSelector=ce,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t,r=this.sheet?this.sheet.options:{},n=r.media,i=r.meta,s=r.element;this.element=s||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=fe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var r=t.insertionPoint,n=de(t);if(!1!==n&&n.parent)n.parent.insertBefore(e,n.node);else if(r&&"number"==typeof r.nodeType){var i=r,s=i.parentNode;s&&s.insertBefore(e,i.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var r=0;r<e.index.length;r++)this.insertRule(e.index[r],r,t)},t.insertRule=function(e,t,r){if(void 0===r&&(r=this.element.sheet),e.rules){var n=e,i=r;if("conditional"===e.type||"keyframes"===e.type){var s=ye(r,t);if(!1===(i=pe(r,n.toString({children:!1}),s)))return!1;this.refCssRule(e,s,i)}return this.insertRules(n.rules,i),i}var o=e.toString();if(!o)return!1;var a=ye(r,t),u=pe(r,o,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,a,u),u)},t.refCssRule=function(e,t,r){e.renderable=r,e.options.parent instanceof Q&&this.cssRules.splice(t,0,r)},t.deleteRule=function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),this.cssRules.splice(r,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var r=this.indexOf(e);return-1!==r&&(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(t,r))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,me=function(){function e(e){this.id=ge++,this.version="10.9.2",this.plugins=new Z,this.options={id:{minify:!1},createGenerateId:se,Renderer:s?ve:null,plugins:[]},this.generateId=se({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(n.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var r=t.index;"number"!=typeof r&&(r=0===te.index?0:te.index+1);var i=new Q(e,Object(n.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=Object(n.a)({},r,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var s=p(e,t,i);return s&&this.plugins.onProcessRule(s),s},t.use=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.plugins.use(t)})),this},e}(),be=function(e){return new me(e)},Se=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;Object(o.a)(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):Object(o.a)(!1,"SheetsManager: can't find sheet to unmanage")},u(e,[{key:"size",get:function(){return this.length}}]),e}(),Re="object"==typeof CSS&&null!=CSS&&"number"in CSS;function xe(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if("function"===i)t||(t={}),t[r]=n;else if("object"===i&&null!==n&&!Array.isArray(n)){var s=xe(n);s&&(t||(t={}),t[r]=s)}}return t}
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */var ke=be();t.default=ke},70:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UppyLoader=t.Explorer=void 0;const i=n(r(5)),s=n(r(9)),o=r(71),a=r(10),u=[{apiName:"playground",cdn:"https://cloud-storage-integration.playground.blackboardcdn.com"},{apiName:"dev",cdn:"https://cloud-storage-integration.dev.blackboardcdn.com"},{apiName:"default",cdn:"https://cloud-storage-integration.blackboardcdn.com"}];class l{constructor(e,t){this.iframe=e,this.backdrop=t,this.iframeHasLoaded=!1,this.subscribers={success:[],cancel:[],error:[],addAccount:[],deleteAccount:[]},window.addEventListener("message",r=>{if("cancel"===r.data.status){e.style.display="none",t.style.display="none";for(const e of this.subscribers.cancel)e.call(void 0)}if("success"===r.data.status){e.style.display="none",t.style.display="none";for(const e of this.subscribers.success)e.call(void 0,r.data.files)}}),this.iframe.addEventListener("load",()=>{this.iframeHasLoaded=!0})}postMessageToIframe(e,t){var r;const n={status:e.toString(),options:t};this.iframeHasLoaded?null===(r=this.iframe.contentWindow)||void 0===r||r.postMessage(n,this.iframe.src):this.iframe.addEventListener("load",()=>{var e;null===(e=this.iframe.contentWindow)||void 0===e||e.postMessage(n,this.iframe.src)})}update(e){this.postMessageToIframe(a.MessageStatus.options,e)}choose(){this.iframe.style.display="block",this.backdrop.style.display="block",this.postMessageToIframe(a.MessageStatus.open)}logout(){this.postMessageToIframe(a.MessageStatus.logout)}on(e,t){switch(e){case"success":this.subscribers.success.push(t);break;case"cancel":this.subscribers.cancel.push(t);break;case"error":this.subscribers.error.push(t);break;case"addAccount":this.subscribers.addAccount.push(t);break;case"deleteAccount":this.subscribers.deleteAccount.push(t);break;default:throw new Error("unknown event")}}}t.Explorer=l;class c{constructor(){var e;this.explorer=e=>{var t,r;const n=null!==(t=e.text_direction)&&void 0!==t?t:"ltr",i=document.createElement("iframe");i.id="cloud-storage-iframe-"+Math.floor(Math.random()*10**12),i.classList.add("kloudless-modal",this.iframeStyleSheet.classes.modal),i.classList.add("cloud-storage-integration-modal",this.iframeStyleSheet.classes.modal),i.setAttribute("title","explorer"),i.setAttribute("dir",n);const s=new URL(this.getExplorerUrl(e)+"/explorer/explorer.html");s.searchParams.append("origin",window.origin),s.searchParams.append("base_url",null!==(r=e.base_url)&&void 0!==r?r:""),s.searchParams.append("text_direction",n),!1===e.multiselect&&s.searchParams.append("allow_single_file","true"),e.show_dummy_provider&&s.searchParams.append("show_dummy_provider","true"),i.setAttribute("src",s.toString()),i.style.display="none",document.body.appendChild(i);return null===document.getElementById("cloud-storage-backdrop")&&document.body.appendChild(this.backdrop),new l(i,this.backdrop)},this.currentScriptUrl=null===(e=document.currentScript)||void 0===e?void 0:e.src,i.default.use((0,s.default)()),this.globalStyleSheet=i.default.createStyleSheet(o.globalStyle).attach(),this.iframeStyleSheet=i.default.createStyleSheet(o.iframeStyle,{classNamePrefix:"cloud-storage-integration-"}).attach(),this.backdropStyleSheet=i.default.createStyleSheet(o.backdropStyle,{classNamePrefix:"cloud-storage-integration-"}).attach(),this.backdrop=document.getElementById("cloud-storage-backdrop"),this.backdrop=document.createElement("div"),this.backdrop.id="cloud-storage-backdrop",this.backdrop.classList.add(this.backdropStyleSheet.classes.backdrop)}getExplorerUrl(e){var t,r,n;if(e.use_loader_explorer){const e=this.currentScriptUrl.split("/"),t=e.indexOf("loader");if(t>0){return e.slice(0,t).join("/")}console.error("uppy: ERROR: nonstandard currentScript url.  Cannot use loader explorer")}const i=null!==(t=null==e?void 0:e.base_url)&&void 0!==t?t:"";return null!==(n=null===(r=u.find(e=>i.indexOf(e.apiName)>0))||void 0===r?void 0:r.cdn)&&void 0!==n?n:u[u.length-1].cdn}authenticator(){}}t.UppyLoader=c,window.Kloudless=new c,window.CloudStorageIntegration=window.Kloudless},71:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backdropStyle=t.iframeStyle=t.globalStyle=void 0,t.globalStyle={"@global":{}},t.iframeStyle={modal:{display:"block","box-sizing":"border-box",position:"fixed",top:"20%",left:"50%",width:"640px",height:"60vh",transform:"translateX(-50%)",border:"solid 0 #666","border-radius":"2px","box-shadow":"0 0 10px rgba(0,0,0,0.4)",transition:"all 0","-webkit-transition":"all 0","z-index":"9999","background-color":"#fafafa"},"@media only screen and (max-width:1024px), only screen and (max-height:768px), only screen and (max-device-width:1024px), only screen and (max-device-height:768px)":{modal:{height:"84vh",top:"8%"}},"@media only screen and (max-width:640px), only screen and (max-height:512px), only screen and (max-device-width:640px), only screen and (max-device-height:512px)":{modal:{width:"1px","min-width":"100%",height:"100%",top:"0",left:"0",transform:"none"}}},t.backdropStyle={backdrop:{position:"fixed",margin:"0",top:"0",left:"0",padding:"0",width:"100%",height:"100%",display:"none","background-color":"rgba(0,0,0,0.6)","z-index":"9998",opacity:".5"}}},9:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(5),s="@global",o=function(){function e(e,t,r){for(var o in this.type="global",this.at=s,this.isProcessed=!1,this.key=e,this.options=r,this.rules=new i.RuleList(Object(n.a)({},r,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.replaceRule=function(e,t,r){var n=this.rules.replace(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),a=function(){function e(e,t,r){this.type="global",this.at=s,this.isProcessed=!1,this.key=e,this.options=r;var i=e.substr("@global ".length);this.rule=r.jss.createRule(i,t,Object(n.a)({},r,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),u=/\s*,\s*/g;function l(e,t){for(var r=e.split(u),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}t.default=function(){return{onCreateRule:function(e,t,r){if(!e)return null;if(e===s)return new o(e,t,r);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new a(e,t,r);var n=r.parent;return n&&("global"===n.type||n.options.parent&&"global"===n.options.parent.type)&&(r.scoped=!1),r.selector||!1!==r.scoped||(r.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var r=e.options,i=e.style,o=i?i[s]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(n.a)({},r,{selector:l(a,e.selector)}));delete i[s]}}(e,t),function(e,t){var r=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,s.length)===s){var a=l(o.substr(s.length),e.selector);t.addRule(a,i[o],Object(n.a)({},r,{selector:a})),delete i[o]}}(e,t))}}}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzQxMDY1ODgxL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzQxMDY1ODgxL3NyYy9ub2RlX21vZHVsZXMvdGlueS13YXJuaW5nL2Rpc3QvdGlueS13YXJuaW5nLmVzbS5qcyIsIndlYnBhY2s6Ly8vL2NvZGVidWlsZC9vdXRwdXQvc3JjNDEwNjU4ODEvc3JjL25vZGVfbW9kdWxlcy9pcy1pbi1icm93c2VyL2Rpc3QvbW9kdWxlLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmM0MTA2NTg4MS9zcmMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmM0MTA2NTg4MS9zcmMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmM0MTA2NTg4MS9zcmMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzQxMDY1ODgxL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmM0MTA2NTg4MS9zcmMvbm9kZV9tb2R1bGVzL2pzcy9kaXN0L2pzcy5lc20uanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzQxMDY1ODgxL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL2pzL2xvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL2pzL2xvYWRlci5zdHlsZS50cyIsIndlYnBhY2s6Ly8vL2NvZGVidWlsZC9vdXRwdXQvc3JjNDEwNjU4ODEvc3JjL25vZGVfbW9kdWxlcy9qc3MtcGx1Z2luLWdsb2JhbC9kaXN0L2pzcy1wbHVnaW4tZ2xvYmFsLmVzbS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiYXBwbHkiLCJ0aGlzIiwiTWVzc2FnZVN0YXR1cyIsIlNQSU5ORVJfQ09OVEFJTkVSX0lEIiwiU1BJTk5FUl9GQURFX09VVF9DTEFTUyIsIkhFQURFUl9JRCIsIkNMT1NFX0JVVFRPTl9JRCIsIlVQUFlfQ09OVEFJTkVSX0lEIiwiRk9PVEVSX0lEIiwiQ0FOQ0VMX0JVVFRPTl9JRCIsIklNUE9SVF9CVVRUT05fSUQiLCJTUElOTkVSX1JFTU9WQUxfV0FJVF9USU1FIiwiRUxFTUVOVF9SRUFESlVTVE1FTlRfV0FJVF9USU1FIiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIl90eXBlb2YiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwid2luZG93IiwiZG9jdW1lbnQiLCJub2RlVHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9zZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwicGxhaW5PYmplY3RDb25zdHJ1cmN0b3IiLCJjbG9uZVN0eWxlIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJuZXdTdHlsZSIsImNyZWF0ZVJ1bGUiLCJkZWNsIiwib3B0aW9ucyIsImpzcyIsImRlY2xDb3B5IiwicnVsZSIsInBsdWdpbnMiLCJvbkNyZWF0ZVJ1bGUiLCJqb2luIiwiYnkiLCJyZXN1bHQiLCJ0b0Nzc1ZhbHVlIiwiY3NzVmFsdWUiLCJnZXRXaGl0ZXNwYWNlU3ltYm9scyIsImZvcm1hdCIsImxpbmVicmVhayIsInNwYWNlIiwiaW5kZW50U3RyIiwic3RyIiwiaW5kZW50IiwiaW5kZXgiLCJ0b0NzcyIsInNlbGVjdG9yIiwiX29wdGlvbnMkaW5kZW50IiwiZmFsbGJhY2tzIiwiSW5maW5pdHkiLCJfZ2V0V2hpdGVzcGFjZVN5bWJvbHMiLCJmYWxsYmFjayIsInByb3AiLCJfcHJvcCIsIl92YWx1ZSIsIl9wcm9wMiIsIl92YWx1ZTIiLCJhbGxvd0VtcHR5IiwiZXNjYXBlUmVnZXgiLCJuYXRpdmVFc2NhcGUiLCJDU1MiLCJlc2NhcGUiLCJyZXBsYWNlIiwiQmFzZVN0eWxlUnVsZSIsInR5cGUiLCJpc1Byb2Nlc3NlZCIsInNoZWV0IiwiUmVuZGVyZXIiLCJyZW5kZXJlciIsInVuZGVmaW5lZCIsImZvcmNlIiwibmV3VmFsdWUiLCJwcm9jZXNzIiwib25DaGFuZ2VWYWx1ZSIsImlzRW1wdHkiLCJpc0RlZmluZWQiLCJyZW1vdmUiLCJyZW5kZXJhYmxlIiwicmVtb3ZlUHJvcGVydHkiLCJzZXRQcm9wZXJ0eSIsImF0dGFjaGVkIiwiX0Jhc2VTdHlsZVJ1bGUiLCJTdHlsZVJ1bGUiLCJfdGhpcyIsInNjb3BlZCIsImdlbmVyYXRlSWQiLCJzZWxlY3RvclRleHQiLCJpZCIsIl9wcm90bzIiLCJhcHBseVRvIiwianNvbiIsInRvSlNPTiIsInRvU3RyaW5nIiwib3B0cyIsImxpbmsiLCJzZXQiLCJzZXRTZWxlY3RvciIsInJlcGxhY2VSdWxlIiwicGx1Z2luU3R5bGVSdWxlIiwicGFyZW50IiwiZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyIsImNoaWxkcmVuIiwiYXRSZWdFeHAiLCJDb25kaXRpb25hbFJ1bGUiLCJzdHlsZXMiLCJhdE1hdGNoIiwibWF0Y2giLCJhdCIsInF1ZXJ5IiwicnVsZXMiLCJhZGQiLCJfcHJvdG8iLCJnZXRSdWxlIiwiaW5kZXhPZiIsImFkZFJ1bGUiLCJvblByb2Nlc3NSdWxlIiwibmV3UnVsZSIsImtleVJlZ0V4cCIsInBsdWdpbkNvbmRpdGlvbmFsUnVsZSIsInRlc3QiLCJkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDEiLCJuYW1lUmVnRXhwIiwiS2V5ZnJhbWVzUnVsZSIsImZyYW1lcyIsIm5hbWVNYXRjaCIsImtleVJlZ0V4cCQxIiwicmVmUmVnRXhwIiwiZmluZFJlZmVyZW5jZWRLZXlmcmFtZSIsInZhbCIsImtleWZyYW1lcyIsInJlcGxhY2VSZWYiLCJyZWZLZXlmcmFtZSIsInBsdWdpbktleWZyYW1lc1J1bGUiLCJvblByb2Nlc3NTdHlsZSIsIktleWZyYW1lUnVsZSIsInBsdWdpbktleWZyYW1lUnVsZSIsIkZvbnRGYWNlUnVsZSIsImtleVJlZ0V4cCQyIiwicGx1Z2luRm9udEZhY2VSdWxlIiwiVmlld3BvcnRSdWxlIiwicGx1Z2luVmlld3BvcnRSdWxlIiwiU2ltcGxlUnVsZSIsImtleXNNYXAiLCJkZWZhdWx0VXBkYXRlT3B0aW9ucyIsImZvcmNlVXBkYXRlT3B0aW9ucyIsIlJ1bGVMaXN0IiwicmF3IiwiY291bnRlciIsImNsYXNzZXMiLCJydWxlT3B0aW9ucyIsIl90aGlzJG9wdGlvbnMiLCJyZWdpc3RlciIsInNwbGljZSIsIm9sZFJ1bGUiLCJvbGRJbmRleCIsIm5hbWVPclNlbGVjdG9yIiwidW5yZWdpc3RlciIsInNsaWNlIiwiZm9yRWFjaCIsInVwZGF0ZSIsImRhdGEiLCJ1cGRhdGVPbmUiLCJfdGhpcyRvcHRpb25zMiIsIm9uVXBkYXRlIiwibmV4dFZhbHVlIiwiX25leHRWYWx1ZSIsIl9wcmV2VmFsdWUiLCJjc3MiLCJTdHlsZVNoZWV0IiwiZGVwbG95ZWQiLCJhdHRhY2giLCJkZXBsb3kiLCJkZXRhY2giLCJxdWV1ZSIsInB1c2giLCJpbnNlcnRSdWxlIiwiZGVsZXRlUnVsZSIsImFkZFJ1bGVzIiwiYWRkZWQiLCJfdGhpcyRydWxlcyIsIlBsdWdpbnNSZWdpc3RyeSIsImludGVybmFsIiwiZXh0ZXJuYWwiLCJyZWdpc3RyeSIsIm9uUHJvY2Vzc1NoZWV0IiwicHJvY2Vzc2VkVmFsdWUiLCJ1c2UiLCJuZXdQbHVnaW4iLCJjb25jYXQiLCJyZWR1Y2UiLCJwbHVnaW4iLCJTaGVldHNSZWdpc3RyeSIsInJlc2V0IiwiX3RlbXAiLCJfcmVmIiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwia2V5cyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwic2hlZXRzIiwiZ2xvYmFsVGhpcyQxIiwiZ2xvYmFsVGhpcyIsIk1hdGgiLCJGdW5jdGlvbiIsImNyZWF0ZUdlbmVyYXRlSWQiLCJydWxlQ291bnRlciIsImpzc0lkIiwicHJlZml4IiwiY2xhc3NOYW1lUHJlZml4IiwiU3RyaW5nIiwibWluaWZ5IiwibWVtb2l6ZSIsImZuIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNzc1J1bGUiLCJhdHRyaWJ1dGVTdHlsZU1hcCIsImVyciIsImluZGV4T2ZJbXBvcnRhbnRGbGFnIiwiY3NzVmFsdWVXaXRob3V0SW1wb3J0YW50RmxhZyIsInN1YnN0ciIsImRlbGV0ZSIsImdldEhlYWQiLCJxdWVyeVNlbGVjdG9yIiwiZmluZFByZXZOb2RlIiwiaW5zZXJ0aW9uUG9pbnQiLCJmaW5kSGlnaGVyU2hlZXQiLCJlbGVtZW50IiwicGFyZW50Tm9kZSIsIm5vZGUiLCJmaW5kSGlnaGVzdFNoZWV0IiwibmV4dFNpYmxpbmciLCJjb21tZW50IiwidGV4dCIsImhlYWQiLCJjaGlsZE5vZGVzIiwibm9kZVZhbHVlIiwidHJpbSIsImZpbmRDb21tZW50Tm9kZSIsImdldE5vbmNlIiwiZ2V0QXR0cmlidXRlIiwiX2luc2VydFJ1bGUiLCJjb250YWluZXIiLCJhcHBlbmRSdWxlIiwiY3NzUnVsZXMiLCJnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleCIsIm1heEluZGV4IiwiRG9tUmVuZGVyZXIiLCJoYXNJbnNlcnRlZFJ1bGVzIiwiZWwiLCJtZWRpYSIsIm1ldGEiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJub25jZSIsIm5leHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiaW5zZXJ0aW9uUG9pbnRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRTdHlsZSIsIkJvb2xlYW4iLCJyZW1vdmVDaGlsZCIsImluc2VydFJ1bGVzIiwibmF0aXZlUGFyZW50IiwibGF0ZXN0TmF0aXZlUGFyZW50IiwiX2luc2VydGlvbkluZGV4IiwicmVmQ3NzUnVsZSIsInJ1bGVTdHIiLCJpbnNlcnRpb25JbmRleCIsIm5hdGl2ZVJ1bGUiLCJnZXRSdWxlcyIsImluc3RhbmNlQ291bnRlciIsIkpzcyIsInZlcnNpb24iLCJzZXR1cCIsImNyZWF0ZVN0eWxlU2hlZXQiLCJyZW1vdmVTdHlsZVNoZWV0IiwiX2xlbiIsIl9rZXkiLCJjcmVhdGVKc3MiLCJTaGVldHNNYW5hZ2VyIiwiV2Vha01hcCIsImVudHJ5IiwiaGFzIiwicmVmcyIsIm1hbmFnZSIsInVubWFuYWdlIiwiaGFzQ1NTVE9NU3VwcG9ydCIsImdldER5bmFtaWNTdHlsZXMiLCJ0byIsImV4dHJhY3RlZCIsIkNETk1hcCIsImFwaU5hbWUiLCJjZG4iLCJFeHBsb3JlciIsImlmcmFtZSIsImJhY2tkcm9wIiwiaWZyYW1lSGFzTG9hZGVkIiwic3Vic2NyaWJlcnMiLCJzdWNjZXNzIiwiY2FuY2VsIiwiZXJyb3IiLCJhZGRBY2NvdW50IiwiZGVsZXRlQWNjb3VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJkaXNwbGF5Iiwic3Vic2NyaWJlciIsImZpbGVzIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwic3JjIiwicG9zdE1lc3NhZ2VUb0lmcmFtZSIsIm9wZW4iLCJsb2dvdXQiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsIkVycm9yIiwiVXBweUxvYWRlciIsImV4cGxvcmVyIiwidGV4dERpcmVjdGlvbiIsInRleHRfZGlyZWN0aW9uIiwiZnJhbWUiLCJmbG9vciIsInJhbmRvbSIsImNsYXNzTGlzdCIsImlmcmFtZVN0eWxlU2hlZXQiLCJtb2RhbCIsImZyYW1lVXJsIiwiVVJMIiwiZ2V0RXhwbG9yZXJVcmwiLCJzZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJvcmlnaW4iLCJiYXNlX3VybCIsIm11bHRpc2VsZWN0Iiwic2hvd19kdW1teV9wcm92aWRlciIsImJvZHkiLCJnZXRFbGVtZW50QnlJZCIsImN1cnJlbnRTY3JpcHRVcmwiLCJjdXJyZW50U2NyaXB0IiwiZ2xvYmFsU3R5bGVTaGVldCIsImdsb2JhbFN0eWxlIiwiaWZyYW1lU3R5bGUiLCJiYWNrZHJvcFN0eWxlU2hlZXQiLCJiYWNrZHJvcFN0eWxlIiwidXNlX2xvYWRlcl9leHBsb3JlciIsInVybFBhcnRzIiwic3BsaXQiLCJiYXNlSW5kZXgiLCJjb25zb2xlIiwiYXBpU2VydmVyIiwiZmluZCIsIml0ZW0iLCJLbG91ZGxlc3MiLCJDbG91ZFN0b3JhZ2VJbnRlZ3JhdGlvbiIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwidHJhbnNmb3JtIiwiYm9yZGVyIiwidHJhbnNpdGlvbiIsIm1hcmdpbiIsInBhZGRpbmciLCJvcGFjaXR5IiwiR2xvYmFsQ29udGFpbmVyUnVsZSIsIkdsb2JhbFByZWZpeGVkUnVsZSIsInNlcGFyYXRvclJlZ0V4cCIsImFkZFNjb3BlIiwic2NvcGUiLCJwYXJ0cyIsImhhbmRsZU5lc3RlZEdsb2JhbENvbnRhaW5lclJ1bGUiLCJoYW5kbGVQcmVmaXhlZEdsb2JhbFJ1bGUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVB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LEVBQU1xQyxHQUNULFVBQWRyQyxFQUFLbUMsTUFBcUJFLElBN0RsQyxTQUF5Q3JDLEVBQU1xQyxHQUM3QyxJQUFJeEMsRUFBVUcsRUFBS0gsUUFDZlAsRUFBUVUsRUFBS1YsTUFDYjBGLEVBQVExRixFQUFRQSxFQUFNd0YsR0FBTSxLQUNoQyxHQUFLRSxFQUFMLENBRUEsSUFBSyxJQUFJbkssS0FBUW1LLEVBQ2YzQyxFQUFNZ0QsUUFBUXhLLEVBQU1tSyxFQUFNbkssR0FBTyxZQUFTLEdBQUlnRixFQUFTLENBQ3JEb0IsU0FBVW9VLEVBQVN4YSxFQUFNbUYsRUFBS2lCLG9CQUkzQjNCLEVBQU13RixJQWtEWDBRLENBQWdDeFYsRUFBTXFDLEdBL0MxQyxTQUFrQ3JDLEVBQU1xQyxHQUN0QyxJQUFJeEMsRUFBVUcsRUFBS0gsUUFDZlAsRUFBUVUsRUFBS1YsTUFFakIsSUFBSyxJQUFJaUMsS0FBUWpDLEVBQ2YsR0FBZ0IsTUFBWmlDLEVBQUssSUFBY0EsRUFBS3VLLE9BQU8sRUFBR2hILEVBQUdwSSxVQUFZb0ksRUFBckQsQ0FDQSxJQUFJN0QsRUFBV29VLEVBQVM5VCxFQUFLdUssT0FBT2hILEVBQUdwSSxRQUFTc0QsRUFBS2lCLFVBQ3JEb0IsRUFBTWdELFFBQVFwRSxFQUFVM0IsRUFBTWlDLEdBQU8sWUFBUyxHQUFJMUIsRUFBUyxDQUN6RG9CLFNBQVVBLFlBRUwzQixFQUFNaUMsSUFzQ2JrVSxDQUF5QnpWLEVBQU1xQyIsImZpbGUiOiJsb2FkZXIvanMvbG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsIi8qKlxuICogTWVzc2FnZXMgcGFzc2VkIGJldHdlZW4gdGhlIGlmcmFtZSBhbmQgdGhlIHBhcmVudCBmcmFtZVxuICovXG5leHBvcnQgZW51bSBNZXNzYWdlU3RhdHVzIHtcbiAgLyoqXG4gICAqIENhbmNlbCBidXR0b24gcHJlc3NlZCBpbiB0aGUgaWZyYW1lXG4gICAqL1xuICBjYW5jZWwgPSAnY2FuY2VsJyxcblxuICAvKipcbiAgICogSW1wb3J0IGJ1dHRvbiBwcmVzc2VkIGluIHRoZSBpZnJhbWVcbiAgICovXG4gIHN1Y2Nlc3MgPSAnc3VjY2VzcycsXG5cbiAgLyoqXG4gICAqIExvZ291dCBtZXNzYWdlIHNlbnQgdG8gdGhlIGlmcmFtZVxuICAgKi9cbiAgbG9nb3V0ID0gJ2xvZ291dCcsXG5cbiAgLyoqXG4gICAqIE9wZW4gbWVzc2FnZSBzZW50IHRvIHRoZSBpZnJhbWVcbiAgICovXG4gIG9wZW4gPSAnb3BlbicsXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdXBkYXRlIHNlbnQgdG8gdGhlIGlmcmFtZVxuICAgKi9cbiAgb3B0aW9ucyA9ICdvcHRpb25zJ1xufVxuXG5leHBvcnQgY29uc3QgU1BJTk5FUl9DT05UQUlORVJfSUQgPSAnc3Bpbm5lci1jb250YWluZXInO1xuZXhwb3J0IGNvbnN0IFNQSU5ORVJfRkFERV9PVVRfQ0xBU1MgPSAnZmFkZS1vdXQnO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9JRCA9ICdoZWFkZXInO1xuZXhwb3J0IGNvbnN0IENMT1NFX0JVVFRPTl9JRCA9ICdjbG9zZS1idXR0b24nO1xuZXhwb3J0IGNvbnN0IFVQUFlfQ09OVEFJTkVSX0lEID0gJ3VwcHktY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBGT09URVJfSUQgPSAnYnV0dG9uc2NvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgQ0FOQ0VMX0JVVFRPTl9JRCA9ICdjYW5jZWwnO1xuZXhwb3J0IGNvbnN0IElNUE9SVF9CVVRUT05fSUQgPSAnc3RhcnRVcGxvYWQnO1xuXG4vLyBUaGlzIHdhaXQgdGltZSBzaG91bGQgYmUganVzdCBsb25nIGVub3VnaCB0byBhbGxvdyB0aGUgZmFkZSBvdXQgdHJhbnNpdGlvblxuLy8gZW5vdWdoIHRpbWUgdG8gY29tcGxldGUgYmVmb3JlIHNldHRpbmcgdGhlIHNwaW5uZXIgY29udGFpbmVyIHRvIGRpc3BsYXkgJ25vbmUnXG5leHBvcnQgY29uc3QgU1BJTk5FUl9SRU1PVkFMX1dBSVRfVElNRSA9IDYwMDtcblxuLy8gU29tZSBcImVsZW1lbnQgcmVhZGp1c3RtZW50XCIgaGFzIHRvIG9jY3VyIHNvbWUgcGVyaW9kIG9mIHRpbWUgYWZ0ZXIgdGhlIGlmcmFtZSBpcyBkaXNwbGF5ZWRcbi8vIEl0IGRvZXMgbm90IGFwcGVhciBwb3NzaWJsZSB0byBzdWNjZXNzZnVsbHkgZXhlY3V0ZSB0aGlzIHJlYWRqdXN0bWVudCB3aXRob3V0IGEgdGltZW91dFxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfUkVBREpVU1RNRU5UX1dBSVRfVElNRSA9IDEwMDtcbiIsInZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xuZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFpc1Byb2R1Y3Rpb24pIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRleHQgPSBcIldhcm5pbmc6IFwiICsgbWVzc2FnZTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2Fybih0ZXh0KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhyb3cgRXJyb3IodGV4dCk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3YXJuaW5nO1xuIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnQgdmFyIGlzQnJvd3NlciA9ICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yod2luZG93KSkgPT09IFwib2JqZWN0XCIgJiYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGRvY3VtZW50KSkgPT09ICdvYmplY3QnICYmIGRvY3VtZW50Lm5vZGVUeXBlID09PSA5O1xuXG5leHBvcnQgZGVmYXVsdCBpc0Jyb3dzZXI7XG4iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufSIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IGlzSW5Ccm93c2VyIGZyb20gJ2lzLWluLWJyb3dzZXInO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcblxudmFyIHBsYWluT2JqZWN0Q29uc3RydXJjdG9yID0ge30uY29uc3RydWN0b3I7XG5mdW5jdGlvbiBjbG9uZVN0eWxlKHN0eWxlKSB7XG4gIGlmIChzdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBzdHlsZSAhPT0gJ29iamVjdCcpIHJldHVybiBzdHlsZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSByZXR1cm4gc3R5bGUubWFwKGNsb25lU3R5bGUpO1xuICBpZiAoc3R5bGUuY29uc3RydWN0b3IgIT09IHBsYWluT2JqZWN0Q29uc3RydXJjdG9yKSByZXR1cm4gc3R5bGU7XG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuXG4gIGZvciAodmFyIG5hbWUgaW4gc3R5bGUpIHtcbiAgICBuZXdTdHlsZVtuYW1lXSA9IGNsb25lU3R5bGUoc3R5bGVbbmFtZV0pO1xuICB9XG5cbiAgcmV0dXJuIG5ld1N0eWxlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJ1bGUgaW5zdGFuY2UuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlUnVsZShuYW1lLCBkZWNsLCBvcHRpb25zKSB7XG4gIGlmIChuYW1lID09PSB2b2lkIDApIHtcbiAgICBuYW1lID0gJ3VubmFtZWQnO1xuICB9XG5cbiAgdmFyIGpzcyA9IG9wdGlvbnMuanNzO1xuICB2YXIgZGVjbENvcHkgPSBjbG9uZVN0eWxlKGRlY2wpO1xuICB2YXIgcnVsZSA9IGpzcy5wbHVnaW5zLm9uQ3JlYXRlUnVsZShuYW1lLCBkZWNsQ29weSwgb3B0aW9ucyk7XG4gIGlmIChydWxlKSByZXR1cm4gcnVsZTsgLy8gSXQgaXMgYW4gYXQtcnVsZSBhbmQgaXQgaGFzIG5vIGluc3RhbmNlLlxuXG4gIGlmIChuYW1lWzBdID09PSAnQCcpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFVua25vd24gcnVsZSBcIiArIG5hbWUpIDogdm9pZCAwO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBqb2luID0gZnVuY3Rpb24gam9pbih2YWx1ZSwgYnkpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBSZW1vdmUgIWltcG9ydGFudCBmcm9tIHRoZSB2YWx1ZSwgaXQgd2lsbCBiZSByZWFkZGVkIGxhdGVyLlxuICAgIGlmICh2YWx1ZVtpXSA9PT0gJyFpbXBvcnRhbnQnKSBicmVhaztcbiAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gYnk7XG4gICAgcmVzdWx0ICs9IHZhbHVlW2ldO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4vKipcbiAqIENvbnZlcnRzIEpTUyBhcnJheSB2YWx1ZSB0byBhIENTUyBzdHJpbmcuXG4gKlxuICogYG1hcmdpbjogW1snNXB4JywgJzEwcHgnXV1gID4gYG1hcmdpbjogNXB4IDEwcHg7YFxuICogYGJvcmRlcjogWycxcHgnLCAnMnB4J11gID4gYGJvcmRlcjogMXB4LCAycHg7YFxuICogYG1hcmdpbjogW1snNXB4JywgJzEwcHgnXSwgJyFpbXBvcnRhbnQnXWAgPiBgbWFyZ2luOiA1cHggMTBweCAhaW1wb3J0YW50O2BcbiAqIGBjb2xvcjogWydyZWQnLCAhaW1wb3J0YW50XWAgPiBgY29sb3I6IHJlZCAhaW1wb3J0YW50O2BcbiAqL1xuXG5cbnZhciB0b0Nzc1ZhbHVlID0gZnVuY3Rpb24gdG9Dc3NWYWx1ZSh2YWx1ZSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gIHZhciBjc3NWYWx1ZSA9ICcnOyAvLyBTdXBwb3J0IHNwYWNlIHNlcGFyYXRlZCB2YWx1ZXMgdmlhIGBbWyc1cHgnLCAnMTBweCddXWAuXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVbMF0pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlW2ldID09PSAnIWltcG9ydGFudCcpIGJyZWFrO1xuICAgICAgaWYgKGNzc1ZhbHVlKSBjc3NWYWx1ZSArPSAnLCAnO1xuICAgICAgY3NzVmFsdWUgKz0gam9pbih2YWx1ZVtpXSwgJyAnKTtcbiAgICB9XG4gIH0gZWxzZSBjc3NWYWx1ZSA9IGpvaW4odmFsdWUsICcsICcpOyAvLyBBZGQgIWltcG9ydGFudCwgYmVjYXVzZSBpdCB3YXMgaWdub3JlZC5cblxuXG4gIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSA9PT0gJyFpbXBvcnRhbnQnKSB7XG4gICAgY3NzVmFsdWUgKz0gJyAhaW1wb3J0YW50JztcbiAgfVxuXG4gIHJldHVybiBjc3NWYWx1ZTtcbn07XG5cbmZ1bmN0aW9uIGdldFdoaXRlc3BhY2VTeW1ib2xzKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmVicmVhazogJycsXG4gICAgICBzcGFjZTogJydcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsaW5lYnJlYWs6ICdcXG4nLFxuICAgIHNwYWNlOiAnICdcbiAgfTtcbn1cblxuLyoqXG4gKiBJbmRlbnQgYSBzdHJpbmcuXG4gKiBodHRwOi8vanNwZXJmLmNvbS9hcnJheS1qb2luLXZzLWZvclxuICovXG5cbmZ1bmN0aW9uIGluZGVudFN0cihzdHIsIGluZGVudCkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGluZGVudDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCArPSAnICAnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCArIHN0cjtcbn1cbi8qKlxuICogQ29udmVydHMgYSBSdWxlIHRvIENTUyBzdHJpbmcuXG4gKi9cblxuXG5mdW5jdGlvbiB0b0NzcyhzZWxlY3Rvciwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgaWYgKCFzdHlsZSkgcmV0dXJuIHJlc3VsdDtcbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJGluZGVudCA9IF9vcHRpb25zLmluZGVudCxcbiAgICAgIGluZGVudCA9IF9vcHRpb25zJGluZGVudCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGluZGVudDtcbiAgdmFyIGZhbGxiYWNrcyA9IHN0eWxlLmZhbGxiYWNrcztcblxuICBpZiAob3B0aW9ucy5mb3JtYXQgPT09IGZhbHNlKSB7XG4gICAgaW5kZW50ID0gLUluZmluaXR5O1xuICB9XG5cbiAgdmFyIF9nZXRXaGl0ZXNwYWNlU3ltYm9scyA9IGdldFdoaXRlc3BhY2VTeW1ib2xzKG9wdGlvbnMpLFxuICAgICAgbGluZWJyZWFrID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLmxpbmVicmVhayxcbiAgICAgIHNwYWNlID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLnNwYWNlO1xuXG4gIGlmIChzZWxlY3RvcikgaW5kZW50Kys7IC8vIEFwcGx5IGZhbGxiYWNrcyBmaXJzdC5cblxuICBpZiAoZmFsbGJhY2tzKSB7XG4gICAgLy8gQXJyYXkgc3ludGF4IHtmYWxsYmFja3M6IFt7cHJvcDogdmFsdWV9XX1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmYWxsYmFja3MpKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZmFsbGJhY2tzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgZmFsbGJhY2sgPSBmYWxsYmFja3NbaW5kZXhdO1xuXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gZmFsbGJhY2spIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBmYWxsYmFja1twcm9wXTtcblxuICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gbGluZWJyZWFrO1xuICAgICAgICAgICAgcmVzdWx0ICs9IGluZGVudFN0cihwcm9wICsgXCI6XCIgKyBzcGFjZSArIHRvQ3NzVmFsdWUodmFsdWUpICsgXCI7XCIsIGluZGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9iamVjdCBzeW50YXgge2ZhbGxiYWNrczoge3Byb3A6IHZhbHVlfX1cbiAgICAgIGZvciAodmFyIF9wcm9wIGluIGZhbGxiYWNrcykge1xuICAgICAgICB2YXIgX3ZhbHVlID0gZmFsbGJhY2tzW19wcm9wXTtcblxuICAgICAgICBpZiAoX3ZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gbGluZWJyZWFrO1xuICAgICAgICAgIHJlc3VsdCArPSBpbmRlbnRTdHIoX3Byb3AgKyBcIjpcIiArIHNwYWNlICsgdG9Dc3NWYWx1ZShfdmFsdWUpICsgXCI7XCIsIGluZGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBfcHJvcDIgaW4gc3R5bGUpIHtcbiAgICB2YXIgX3ZhbHVlMiA9IHN0eWxlW19wcm9wMl07XG5cbiAgICBpZiAoX3ZhbHVlMiAhPSBudWxsICYmIF9wcm9wMiAhPT0gJ2ZhbGxiYWNrcycpIHtcbiAgICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSBsaW5lYnJlYWs7XG4gICAgICByZXN1bHQgKz0gaW5kZW50U3RyKF9wcm9wMiArIFwiOlwiICsgc3BhY2UgKyB0b0Nzc1ZhbHVlKF92YWx1ZTIpICsgXCI7XCIsIGluZGVudCk7XG4gICAgfVxuICB9IC8vIEFsbG93IGVtcHR5IHN0eWxlIGluIHRoaXMgY2FzZSwgYmVjYXVzZSBwcm9wZXJ0aWVzIHdpbGwgYmUgYWRkZWQgZHluYW1pY2FsbHkuXG5cblxuICBpZiAoIXJlc3VsdCAmJiAhb3B0aW9ucy5hbGxvd0VtcHR5KSByZXR1cm4gcmVzdWx0OyAvLyBXaGVuIHJ1bGUgaXMgYmVpbmcgc3RyaW5naWZpZWQgYmVmb3JlIHNlbGVjdG9yIHdhcyBkZWZpbmVkLlxuXG4gIGlmICghc2VsZWN0b3IpIHJldHVybiByZXN1bHQ7XG4gIGluZGVudC0tO1xuICBpZiAocmVzdWx0KSByZXN1bHQgPSBcIlwiICsgbGluZWJyZWFrICsgcmVzdWx0ICsgbGluZWJyZWFrO1xuICByZXR1cm4gaW5kZW50U3RyKFwiXCIgKyBzZWxlY3RvciArIHNwYWNlICsgXCJ7XCIgKyByZXN1bHQsIGluZGVudCkgKyBpbmRlbnRTdHIoJ30nLCBpbmRlbnQpO1xufVxuXG52YXIgZXNjYXBlUmVnZXggPSAvKFtbXFxdLiMqJD48K349fF46KCksXCInYFxcc10pL2c7XG52YXIgbmF0aXZlRXNjYXBlID0gdHlwZW9mIENTUyAhPT0gJ3VuZGVmaW5lZCcgJiYgQ1NTLmVzY2FwZTtcbnZhciBlc2NhcGUgPSAoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gbmF0aXZlRXNjYXBlID8gbmF0aXZlRXNjYXBlKHN0cikgOiBzdHIucmVwbGFjZShlc2NhcGVSZWdleCwgJ1xcXFwkMScpO1xufSk7XG5cbnZhciBCYXNlU3R5bGVSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmFzZVN0eWxlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ3N0eWxlJztcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdmFyIHNoZWV0ID0gb3B0aW9ucy5zaGVldCxcbiAgICAgICAgUmVuZGVyZXIgPSBvcHRpb25zLlJlbmRlcmVyO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIGlmIChzaGVldCkgdGhpcy5yZW5kZXJlciA9IHNoZWV0LnJlbmRlcmVyO2Vsc2UgaWYgKFJlbmRlcmVyKSB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYSBzdHlsZSBwcm9wZXJ0eS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gQmFzZVN0eWxlUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnByb3AgPSBmdW5jdGlvbiBwcm9wKG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgLy8gSXQncyBhIGdldHRlci5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuc3R5bGVbbmFtZV07IC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuXG5cbiAgICB2YXIgZm9yY2UgPSBvcHRpb25zID8gb3B0aW9ucy5mb3JjZSA6IGZhbHNlO1xuICAgIGlmICghZm9yY2UgJiYgdGhpcy5zdHlsZVtuYW1lXSA9PT0gdmFsdWUpIHJldHVybiB0aGlzO1xuICAgIHZhciBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMucHJvY2VzcyAhPT0gZmFsc2UpIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uQ2hhbmdlVmFsdWUodmFsdWUsIG5hbWUsIHRoaXMpO1xuICAgIH1cblxuICAgIHZhciBpc0VtcHR5ID0gbmV3VmFsdWUgPT0gbnVsbCB8fCBuZXdWYWx1ZSA9PT0gZmFsc2U7XG4gICAgdmFyIGlzRGVmaW5lZCA9IG5hbWUgaW4gdGhpcy5zdHlsZTsgLy8gVmFsdWUgaXMgZW1wdHkgYW5kIHdhc24ndCBkZWZpbmVkIGJlZm9yZS5cblxuICAgIGlmIChpc0VtcHR5ICYmICFpc0RlZmluZWQgJiYgIWZvcmNlKSByZXR1cm4gdGhpczsgLy8gV2UgYXJlIGdvaW5nIHRvIHJlbW92ZSB0aGlzIHZhbHVlLlxuXG4gICAgdmFyIHJlbW92ZSA9IGlzRW1wdHkgJiYgaXNEZWZpbmVkO1xuICAgIGlmIChyZW1vdmUpIGRlbGV0ZSB0aGlzLnN0eWxlW25hbWVdO2Vsc2UgdGhpcy5zdHlsZVtuYW1lXSA9IG5ld1ZhbHVlOyAvLyBSZW5kZXJhYmxlIGlzIGRlZmluZWQgaWYgU3R5bGVTaGVldCBvcHRpb24gYGxpbmtgIGlzIHRydWUuXG5cbiAgICBpZiAodGhpcy5yZW5kZXJhYmxlICYmIHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIGlmIChyZW1vdmUpIHRoaXMucmVuZGVyZXIucmVtb3ZlUHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLCBuYW1lKTtlbHNlIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLCBuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgc2hlZXQgPSB0aGlzLm9wdGlvbnMuc2hlZXQ7XG5cbiAgICBpZiAoc2hlZXQgJiYgc2hlZXQuYXR0YWNoZWQpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsICdbSlNTXSBSdWxlIGlzIG5vdCBsaW5rZWQuIE1pc3Npbmcgc2hlZXQgb3B0aW9uIFwibGluazogdHJ1ZVwiLicpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBCYXNlU3R5bGVSdWxlO1xufSgpO1xudmFyIFN0eWxlUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Jhc2VTdHlsZVJ1bGUpIHtcbiAgX2luaGVyaXRzTG9vc2UoU3R5bGVSdWxlLCBfQmFzZVN0eWxlUnVsZSk7XG5cbiAgZnVuY3Rpb24gU3R5bGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9CYXNlU3R5bGVSdWxlLmNhbGwodGhpcywga2V5LCBzdHlsZSwgb3B0aW9ucykgfHwgdGhpcztcbiAgICB2YXIgc2VsZWN0b3IgPSBvcHRpb25zLnNlbGVjdG9yLFxuICAgICAgICBzY29wZWQgPSBvcHRpb25zLnNjb3BlZCxcbiAgICAgICAgc2hlZXQgPSBvcHRpb25zLnNoZWV0LFxuICAgICAgICBnZW5lcmF0ZUlkID0gb3B0aW9ucy5nZW5lcmF0ZUlkO1xuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBfdGhpcy5zZWxlY3RvclRleHQgPSBzZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKHNjb3BlZCAhPT0gZmFsc2UpIHtcbiAgICAgIF90aGlzLmlkID0gZ2VuZXJhdGVJZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgc2hlZXQpO1xuICAgICAgX3RoaXMuc2VsZWN0b3JUZXh0ID0gXCIuXCIgKyBlc2NhcGUoX3RoaXMuaWQpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0IHNlbGVjdG9yIHN0cmluZy5cbiAgICogQXR0ZW50aW9uOiB1c2UgdGhpcyB3aXRoIGNhdXRpb24uIE1vc3QgYnJvd3NlcnMgZGlkbid0IGltcGxlbWVudFxuICAgKiBzZWxlY3RvclRleHQgc2V0dGVyLCBzbyB0aGlzIG1heSByZXN1bHQgaW4gcmVyZW5kZXJpbmcgb2YgZW50aXJlIFN0eWxlIFNoZWV0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8yID0gU3R5bGVSdWxlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogQXBwbHkgcnVsZSB0byBhbiBlbGVtZW50IGlubGluZS5cbiAgICovXG4gIF9wcm90bzIuYXBwbHlUbyA9IGZ1bmN0aW9uIGFwcGx5VG8ocmVuZGVyYWJsZSkge1xuICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgIHZhciBqc29uID0gdGhpcy50b0pTT04oKTtcblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBqc29uKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFByb3BlcnR5KHJlbmRlcmFibGUsIHByb3AsIGpzb25bcHJvcF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bGUuXG4gICAqIEZhbGxiYWNrcyBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICogVXNlZnVsIGZvciBpbmxpbmUgc3R5bGVzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90bzIudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge307XG5cbiAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuc3R5bGUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3R5bGVbcHJvcF07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JykganNvbltwcm9wXSA9IHZhbHVlO2Vsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSBqc29uW3Byb3BdID0gdG9Dc3NWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvMi50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICB2YXIgc2hlZXQgPSB0aGlzLm9wdGlvbnMuc2hlZXQ7XG4gICAgdmFyIGxpbmsgPSBzaGVldCA/IHNoZWV0Lm9wdGlvbnMubGluayA6IGZhbHNlO1xuICAgIHZhciBvcHRzID0gbGluayA/IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBhbGxvd0VtcHR5OiB0cnVlXG4gICAgfSkgOiBvcHRpb25zO1xuICAgIHJldHVybiB0b0Nzcyh0aGlzLnNlbGVjdG9yVGV4dCwgdGhpcy5zdHlsZSwgb3B0cyk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFN0eWxlUnVsZSwgW3tcbiAgICBrZXk6IFwic2VsZWN0b3JcIixcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzZWxlY3Rvcikge1xuICAgICAgaWYgKHNlbGVjdG9yID09PSB0aGlzLnNlbGVjdG9yVGV4dCkgcmV0dXJuO1xuICAgICAgdGhpcy5zZWxlY3RvclRleHQgPSBzZWxlY3RvcjtcbiAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXIsXG4gICAgICAgICAgcmVuZGVyYWJsZSA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICAgIGlmICghcmVuZGVyYWJsZSB8fCAhcmVuZGVyZXIpIHJldHVybjtcbiAgICAgIHZhciBoYXNDaGFuZ2VkID0gcmVuZGVyZXIuc2V0U2VsZWN0b3IocmVuZGVyYWJsZSwgc2VsZWN0b3IpOyAvLyBJZiBzZWxlY3RvciBzZXR0ZXIgaXMgbm90IGltcGxlbWVudGVkLCByZXJlbmRlciB0aGUgcnVsZS5cblxuICAgICAgaWYgKCFoYXNDaGFuZ2VkKSB7XG4gICAgICAgIHJlbmRlcmVyLnJlcGxhY2VSdWxlKHJlbmRlcmFibGUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgc2VsZWN0b3Igc3RyaW5nLlxuICAgICAqL1xuICAgICxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdG9yVGV4dDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3R5bGVSdWxlO1xufShCYXNlU3R5bGVSdWxlKTtcbnZhciBwbHVnaW5TdHlsZVJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoa2V5WzBdID09PSAnQCcgfHwgb3B0aW9ucy5wYXJlbnQgJiYgb3B0aW9ucy5wYXJlbnQudHlwZSA9PT0gJ2tleWZyYW1lcycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgU3R5bGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpO1xuICB9XG59O1xuXG52YXIgZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyA9IHtcbiAgaW5kZW50OiAxLFxuICBjaGlsZHJlbjogdHJ1ZVxufTtcbnZhciBhdFJlZ0V4cCA9IC9AKFtcXHctXSspLztcbi8qKlxuICogQ29uZGl0aW9uYWwgcnVsZSBmb3IgQG1lZGlhLCBAc3VwcG9ydHNcbiAqL1xuXG52YXIgQ29uZGl0aW9uYWxSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29uZGl0aW9uYWxSdWxlKGtleSwgc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ2NvbmRpdGlvbmFsJztcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdmFyIGF0TWF0Y2ggPSBrZXkubWF0Y2goYXRSZWdFeHApO1xuICAgIHRoaXMuYXQgPSBhdE1hdGNoID8gYXRNYXRjaFsxXSA6ICd1bmtub3duJzsgLy8gS2V5IG1pZ2h0IGNvbnRhaW4gYSB1bmlxdWUgc3VmZml4IGluIGNhc2UgdGhlIGBuYW1lYCBwYXNzZWQgYnkgdXNlciB3YXMgZHVwbGljYXRlLlxuXG4gICAgdGhpcy5xdWVyeSA9IG9wdGlvbnMubmFtZSB8fCBcIkBcIiArIHRoaXMuYXQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlcykge1xuICAgICAgdGhpcy5ydWxlcy5hZGQobmFtZSwgc3R5bGVzW25hbWVdKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gQ29uZGl0aW9uYWxSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0UnVsZSA9IGZ1bmN0aW9uIGdldFJ1bGUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmdldChuYW1lKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgcnVsZSwgcnVuIHBsdWdpbnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJ1bGUgPSBmdW5jdGlvbiBhZGRSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSByZXR1cm4gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBydWxlLCBydW4gcGx1Z2lucy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwbGFjZVJ1bGUgPSBmdW5jdGlvbiByZXBsYWNlUnVsZShuYW1lLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHZhciBuZXdSdWxlID0gdGhpcy5ydWxlcy5yZXBsYWNlKG5hbWUsIHN0eWxlLCBvcHRpb25zKTtcbiAgICBpZiAobmV3UnVsZSkgdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUobmV3UnVsZSk7XG4gICAgcmV0dXJuIG5ld1J1bGU7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMgPSBnZXRXaGl0ZXNwYWNlU3ltYm9scyhvcHRpb25zKSxcbiAgICAgICAgbGluZWJyZWFrID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLmxpbmVicmVhaztcblxuICAgIGlmIChvcHRpb25zLmluZGVudCA9PSBudWxsKSBvcHRpb25zLmluZGVudCA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnMuaW5kZW50O1xuICAgIGlmIChvcHRpb25zLmNoaWxkcmVuID09IG51bGwpIG9wdGlvbnMuY2hpbGRyZW4gPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zLmNoaWxkcmVuO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWVyeSArIFwiIHt9XCI7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5ydWxlcy50b1N0cmluZyhvcHRpb25zKTtcbiAgICByZXR1cm4gY2hpbGRyZW4gPyB0aGlzLnF1ZXJ5ICsgXCIge1wiICsgbGluZWJyZWFrICsgY2hpbGRyZW4gKyBsaW5lYnJlYWsgKyBcIn1cIiA6ICcnO1xuICB9O1xuXG4gIHJldHVybiBDb25kaXRpb25hbFJ1bGU7XG59KCk7XG52YXIga2V5UmVnRXhwID0gL0BtZWRpYXxAc3VwcG9ydHNcXHMrLztcbnZhciBwbHVnaW5Db25kaXRpb25hbFJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGtleVJlZ0V4cC50ZXN0KGtleSkgPyBuZXcgQ29uZGl0aW9uYWxSdWxlKGtleSwgc3R5bGVzLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDEgPSB7XG4gIGluZGVudDogMSxcbiAgY2hpbGRyZW46IHRydWVcbn07XG52YXIgbmFtZVJlZ0V4cCA9IC9Aa2V5ZnJhbWVzXFxzKyhbXFx3LV0rKS87XG4vKipcbiAqIFJ1bGUgZm9yIEBrZXlmcmFtZXNcbiAqL1xuXG52YXIgS2V5ZnJhbWVzUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEtleWZyYW1lc1J1bGUoa2V5LCBmcmFtZXMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAna2V5ZnJhbWVzJztcbiAgICB0aGlzLmF0ID0gJ0BrZXlmcmFtZXMnO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB2YXIgbmFtZU1hdGNoID0ga2V5Lm1hdGNoKG5hbWVSZWdFeHApO1xuXG4gICAgaWYgKG5hbWVNYXRjaCAmJiBuYW1lTWF0Y2hbMV0pIHtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWVNYXRjaFsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uYW1lID0gJ25vbmFtZSc7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIEJhZCBrZXlmcmFtZXMgbmFtZSBcIiArIGtleSkgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgdGhpcy5rZXkgPSB0aGlzLnR5cGUgKyBcIi1cIiArIHRoaXMubmFtZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBzY29wZWQgPSBvcHRpb25zLnNjb3BlZCxcbiAgICAgICAgc2hlZXQgPSBvcHRpb25zLnNoZWV0LFxuICAgICAgICBnZW5lcmF0ZUlkID0gb3B0aW9ucy5nZW5lcmF0ZUlkO1xuICAgIHRoaXMuaWQgPSBzY29wZWQgPT09IGZhbHNlID8gdGhpcy5uYW1lIDogZXNjYXBlKGdlbmVyYXRlSWQodGhpcywgc2hlZXQpKTtcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIGZyYW1lcykge1xuICAgICAgdGhpcy5ydWxlcy5hZGQobmFtZSwgZnJhbWVzW25hbWVdLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gS2V5ZnJhbWVzUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDE7XG4gICAgfVxuXG4gICAgdmFyIF9nZXRXaGl0ZXNwYWNlU3ltYm9scyA9IGdldFdoaXRlc3BhY2VTeW1ib2xzKG9wdGlvbnMpLFxuICAgICAgICBsaW5lYnJlYWsgPSBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMubGluZWJyZWFrO1xuXG4gICAgaWYgKG9wdGlvbnMuaW5kZW50ID09IG51bGwpIG9wdGlvbnMuaW5kZW50ID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyQxLmluZGVudDtcbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiA9PSBudWxsKSBvcHRpb25zLmNoaWxkcmVuID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyQxLmNoaWxkcmVuO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdCArIFwiIFwiICsgdGhpcy5pZCArIFwiIHt9XCI7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5ydWxlcy50b1N0cmluZyhvcHRpb25zKTtcbiAgICBpZiAoY2hpbGRyZW4pIGNoaWxkcmVuID0gXCJcIiArIGxpbmVicmVhayArIGNoaWxkcmVuICsgbGluZWJyZWFrO1xuICAgIHJldHVybiB0aGlzLmF0ICsgXCIgXCIgKyB0aGlzLmlkICsgXCIge1wiICsgY2hpbGRyZW4gKyBcIn1cIjtcbiAgfTtcblxuICByZXR1cm4gS2V5ZnJhbWVzUnVsZTtcbn0oKTtcbnZhciBrZXlSZWdFeHAkMSA9IC9Aa2V5ZnJhbWVzXFxzKy87XG52YXIgcmVmUmVnRXhwID0gL1xcJChbXFx3LV0rKS9nO1xuXG52YXIgZmluZFJlZmVyZW5jZWRLZXlmcmFtZSA9IGZ1bmN0aW9uIGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUodmFsLCBrZXlmcmFtZXMpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbC5yZXBsYWNlKHJlZlJlZ0V4cCwgZnVuY3Rpb24gKG1hdGNoLCBuYW1lKSB7XG4gICAgICBpZiAobmFtZSBpbiBrZXlmcmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIGtleWZyYW1lc1tuYW1lXTtcbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJbSlNTXSBSZWZlcmVuY2VkIGtleWZyYW1lcyBydWxlIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQuXCIpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbDtcbn07XG4vKipcbiAqIFJlcGxhY2UgdGhlIHJlZmVyZW5jZSBmb3IgYSBhbmltYXRpb24gbmFtZS5cbiAqL1xuXG5cbnZhciByZXBsYWNlUmVmID0gZnVuY3Rpb24gcmVwbGFjZVJlZihzdHlsZSwgcHJvcCwga2V5ZnJhbWVzKSB7XG4gIHZhciB2YWx1ZSA9IHN0eWxlW3Byb3BdO1xuICB2YXIgcmVmS2V5ZnJhbWUgPSBmaW5kUmVmZXJlbmNlZEtleWZyYW1lKHZhbHVlLCBrZXlmcmFtZXMpO1xuXG4gIGlmIChyZWZLZXlmcmFtZSAhPT0gdmFsdWUpIHtcbiAgICBzdHlsZVtwcm9wXSA9IHJlZktleWZyYW1lO1xuICB9XG59O1xuXG52YXIgcGx1Z2luS2V5ZnJhbWVzUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBmcmFtZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5UmVnRXhwJDEudGVzdChrZXkpID8gbmV3IEtleWZyYW1lc1J1bGUoa2V5LCBmcmFtZXMsIG9wdGlvbnMpIDogbnVsbDtcbiAgfSxcbiAgLy8gQW5pbWF0aW9uIG5hbWUgcmVmIHJlcGxhY2VyLlxuICBvblByb2Nlc3NTdHlsZTogZnVuY3Rpb24gb25Qcm9jZXNzU3R5bGUoc3R5bGUsIHJ1bGUsIHNoZWV0KSB7XG4gICAgaWYgKHJ1bGUudHlwZSAhPT0gJ3N0eWxlJyB8fCAhc2hlZXQpIHJldHVybiBzdHlsZTtcbiAgICBpZiAoJ2FuaW1hdGlvbi1uYW1lJyBpbiBzdHlsZSkgcmVwbGFjZVJlZihzdHlsZSwgJ2FuaW1hdGlvbi1uYW1lJywgc2hlZXQua2V5ZnJhbWVzKTtcbiAgICBpZiAoJ2FuaW1hdGlvbicgaW4gc3R5bGUpIHJlcGxhY2VSZWYoc3R5bGUsICdhbmltYXRpb24nLCBzaGVldC5rZXlmcmFtZXMpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfSxcbiAgb25DaGFuZ2VWYWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VWYWx1ZSh2YWwsIHByb3AsIHJ1bGUpIHtcbiAgICB2YXIgc2hlZXQgPSBydWxlLm9wdGlvbnMuc2hlZXQ7XG5cbiAgICBpZiAoIXNoZWV0KSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgcmV0dXJuIGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUodmFsLCBzaGVldC5rZXlmcmFtZXMpO1xuXG4gICAgICBjYXNlICdhbmltYXRpb24tbmFtZSc6XG4gICAgICAgIHJldHVybiBmaW5kUmVmZXJlbmNlZEtleWZyYW1lKHZhbCwgc2hlZXQua2V5ZnJhbWVzKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBLZXlmcmFtZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9CYXNlU3R5bGVSdWxlKSB7XG4gIF9pbmhlcml0c0xvb3NlKEtleWZyYW1lUnVsZSwgX0Jhc2VTdHlsZVJ1bGUpO1xuXG4gIGZ1bmN0aW9uIEtleWZyYW1lUnVsZSgpIHtcbiAgICByZXR1cm4gX0Jhc2VTdHlsZVJ1bGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEtleWZyYW1lUnVsZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuICAgIHZhciBsaW5rID0gc2hlZXQgPyBzaGVldC5vcHRpb25zLmxpbmsgOiBmYWxzZTtcbiAgICB2YXIgb3B0cyA9IGxpbmsgPyBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgYWxsb3dFbXB0eTogdHJ1ZVxuICAgIH0pIDogb3B0aW9ucztcbiAgICByZXR1cm4gdG9Dc3ModGhpcy5rZXksIHRoaXMuc3R5bGUsIG9wdHMpO1xuICB9O1xuXG4gIHJldHVybiBLZXlmcmFtZVJ1bGU7XG59KEJhc2VTdHlsZVJ1bGUpO1xudmFyIHBsdWdpbktleWZyYW1lUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnBhcmVudCAmJiBvcHRpb25zLnBhcmVudC50eXBlID09PSAna2V5ZnJhbWVzJykge1xuICAgICAgcmV0dXJuIG5ldyBLZXlmcmFtZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbnZhciBGb250RmFjZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGb250RmFjZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdmb250LWZhY2UnO1xuICAgIHRoaXMuYXQgPSAnQGZvbnQtZmFjZSc7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBGb250RmFjZVJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICB2YXIgX2dldFdoaXRlc3BhY2VTeW1ib2xzID0gZ2V0V2hpdGVzcGFjZVN5bWJvbHMob3B0aW9ucyksXG4gICAgICAgIGxpbmVicmVhayA9IF9nZXRXaGl0ZXNwYWNlU3ltYm9scy5saW5lYnJlYWs7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnN0eWxlKSkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zdHlsZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgc3RyICs9IHRvQ3NzKHRoaXMuYXQsIHRoaXMuc3R5bGVbaW5kZXhdKTtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVbaW5kZXggKyAxXSkgc3RyICs9IGxpbmVicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9Dc3ModGhpcy5hdCwgdGhpcy5zdHlsZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIEZvbnRGYWNlUnVsZTtcbn0oKTtcbnZhciBrZXlSZWdFeHAkMiA9IC9AZm9udC1mYWNlLztcbnZhciBwbHVnaW5Gb250RmFjZVJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5UmVnRXhwJDIudGVzdChrZXkpID8gbmV3IEZvbnRGYWNlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBWaWV3cG9ydFJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBWaWV3cG9ydFJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICd2aWV3cG9ydCc7XG4gICAgdGhpcy5hdCA9ICdAdmlld3BvcnQnO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gVmlld3BvcnRSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvQ3NzKHRoaXMua2V5LCB0aGlzLnN0eWxlLCBvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gVmlld3BvcnRSdWxlO1xufSgpO1xudmFyIHBsdWdpblZpZXdwb3J0UnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBrZXkgPT09ICdAdmlld3BvcnQnIHx8IGtleSA9PT0gJ0AtbXMtdmlld3BvcnQnID8gbmV3IFZpZXdwb3J0UnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBTaW1wbGVSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2ltcGxlUnVsZShrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ3NpbXBsZSc7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5cblxuICB2YXIgX3Byb3RvID0gU2ltcGxlUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnZhbHVlLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBzdHIgKz0gdGhpcy5rZXkgKyBcIiBcIiArIHRoaXMudmFsdWVbaW5kZXhdICsgXCI7XCI7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlW2luZGV4ICsgMV0pIHN0ciArPSAnXFxuJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5rZXkgKyBcIiBcIiArIHRoaXMudmFsdWUgKyBcIjtcIjtcbiAgfTtcblxuICByZXR1cm4gU2ltcGxlUnVsZTtcbn0oKTtcbnZhciBrZXlzTWFwID0ge1xuICAnQGNoYXJzZXQnOiB0cnVlLFxuICAnQGltcG9ydCc6IHRydWUsXG4gICdAbmFtZXNwYWNlJzogdHJ1ZVxufTtcbnZhciBwbHVnaW5TaW1wbGVSdWxlID0ge1xuICBvbkNyZWF0ZVJ1bGU6IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGtleSBpbiBrZXlzTWFwID8gbmV3IFNpbXBsZVJ1bGUoa2V5LCB2YWx1ZSwgb3B0aW9ucykgOiBudWxsO1xuICB9XG59O1xuXG52YXIgcGx1Z2lucyA9IFtwbHVnaW5TdHlsZVJ1bGUsIHBsdWdpbkNvbmRpdGlvbmFsUnVsZSwgcGx1Z2luS2V5ZnJhbWVzUnVsZSwgcGx1Z2luS2V5ZnJhbWVSdWxlLCBwbHVnaW5Gb250RmFjZVJ1bGUsIHBsdWdpblZpZXdwb3J0UnVsZSwgcGx1Z2luU2ltcGxlUnVsZV07XG5cbnZhciBkZWZhdWx0VXBkYXRlT3B0aW9ucyA9IHtcbiAgcHJvY2VzczogdHJ1ZVxufTtcbnZhciBmb3JjZVVwZGF0ZU9wdGlvbnMgPSB7XG4gIGZvcmNlOiB0cnVlLFxuICBwcm9jZXNzOiB0cnVlXG4gIC8qKlxuICAgKiBDb250YWlucyBydWxlcyBvYmplY3RzIGFuZCBhbGxvd3MgYWRkaW5nL3JlbW92aW5nIGV0Yy5cbiAgICogSXMgdXNlZCBmb3IgZS5nLiBieSBgU3R5bGVTaGVldGAgb3IgYENvbmRpdGlvbmFsUnVsZWAuXG4gICAqL1xuXG59O1xuXG52YXIgUnVsZUxpc3QgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvLyBSdWxlcyByZWdpc3RyeSBmb3IgYWNjZXNzIGJ5IC5nZXQoKSBtZXRob2QuXG4gIC8vIEl0IGNvbnRhaW5zIHRoZSBzYW1lIHJ1bGUgcmVnaXN0ZXJlZCBieSBuYW1lIGFuZCBieSBzZWxlY3Rvci5cbiAgLy8gT3JpZ2luYWwgc3R5bGVzIG9iamVjdC5cbiAgLy8gVXNlZCB0byBlbnN1cmUgY29ycmVjdCBydWxlcyBvcmRlci5cbiAgZnVuY3Rpb24gUnVsZUxpc3Qob3B0aW9ucykge1xuICAgIHRoaXMubWFwID0ge307XG4gICAgdGhpcy5yYXcgPSB7fTtcbiAgICB0aGlzLmluZGV4ID0gW107XG4gICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuY2xhc3NlcyA9IG9wdGlvbnMuY2xhc3NlcztcbiAgICB0aGlzLmtleWZyYW1lcyA9IG9wdGlvbnMua2V5ZnJhbWVzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHJ1bGUuXG4gICAqXG4gICAqIFdpbGwgbm90IHJlbmRlciBhZnRlciBTdHlsZSBTaGVldCB3YXMgcmVuZGVyZWQgdGhlIGZpcnN0IHRpbWUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJ1bGVMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIGRlY2wsIHJ1bGVPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHBhcmVudCA9IF90aGlzJG9wdGlvbnMucGFyZW50LFxuICAgICAgICBzaGVldCA9IF90aGlzJG9wdGlvbnMuc2hlZXQsXG4gICAgICAgIGpzcyA9IF90aGlzJG9wdGlvbnMuanNzLFxuICAgICAgICBSZW5kZXJlciA9IF90aGlzJG9wdGlvbnMuUmVuZGVyZXIsXG4gICAgICAgIGdlbmVyYXRlSWQgPSBfdGhpcyRvcHRpb25zLmdlbmVyYXRlSWQsXG4gICAgICAgIHNjb3BlZCA9IF90aGlzJG9wdGlvbnMuc2NvcGVkO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBfZXh0ZW5kcyh7XG4gICAgICBjbGFzc2VzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNoZWV0OiBzaGVldCxcbiAgICAgIGpzczoganNzLFxuICAgICAgUmVuZGVyZXI6IFJlbmRlcmVyLFxuICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZCxcbiAgICAgIHNjb3BlZDogc2NvcGVkLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGtleWZyYW1lczogdGhpcy5rZXlmcmFtZXMsXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkXG4gICAgfSwgcnVsZU9wdGlvbnMpOyAvLyBXaGVuIHVzZXIgdXNlcyAuY3JlYXRlU3R5bGVTaGVldCgpLCBkdXBsaWNhdGUgbmFtZXMgYXJlIG5vdCBwb3NzaWJsZSwgYnV0XG4gICAgLy8gYHNoZWV0LmFkZFJ1bGUoKWAgb3BlbnMgdGhlIGRvb3IgZm9yIGFueSBkdXBsaWNhdGUgcnVsZSBuYW1lLiBXaGVuIHRoaXMgaGFwcGVuc1xuICAgIC8vIHdlIG5lZWQgdG8gbWFrZSB0aGUga2V5IHVuaXF1ZSB3aXRoaW4gdGhpcyBSdWxlTGlzdCBpbnN0YW5jZSBzY29wZS5cblxuXG4gICAgdmFyIGtleSA9IG5hbWU7XG5cbiAgICBpZiAobmFtZSBpbiB0aGlzLnJhdykge1xuICAgICAga2V5ID0gbmFtZSArIFwiLWRcIiArIHRoaXMuY291bnRlcisrO1xuICAgIH0gLy8gV2UgbmVlZCB0byBzYXZlIHRoZSBvcmlnaW5hbCBkZWNsIGJlZm9yZSBjcmVhdGluZyB0aGUgcnVsZVxuICAgIC8vIGJlY2F1c2UgY2FjaGUgcGx1Z2luIG5lZWRzIHRvIHVzZSBpdCBhcyBhIGtleSB0byByZXR1cm4gYSBjYWNoZWQgcnVsZS5cblxuXG4gICAgdGhpcy5yYXdba2V5XSA9IGRlY2w7XG5cbiAgICBpZiAoa2V5IGluIHRoaXMuY2xhc3Nlcykge1xuICAgICAgLy8gRS5nLiBydWxlcyBpbnNpZGUgb2YgQG1lZGlhIGNvbnRhaW5lclxuICAgICAgb3B0aW9ucy5zZWxlY3RvciA9IFwiLlwiICsgZXNjYXBlKHRoaXMuY2xhc3Nlc1trZXldKTtcbiAgICB9XG5cbiAgICB2YXIgcnVsZSA9IGNyZWF0ZVJ1bGUoa2V5LCBkZWNsLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHJldHVybiBudWxsO1xuICAgIHRoaXMucmVnaXN0ZXIocnVsZSk7XG4gICAgdmFyIGluZGV4ID0gb3B0aW9ucy5pbmRleCA9PT0gdW5kZWZpbmVkID8gdGhpcy5pbmRleC5sZW5ndGggOiBvcHRpb25zLmluZGV4O1xuICAgIHRoaXMuaW5kZXguc3BsaWNlKGluZGV4LCAwLCBydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBydWxlLlxuICAgKiBDcmVhdGUgYSBuZXcgcnVsZSBhbmQgcmVtb3ZlIG9sZCBvbmUgaW5zdGVhZCBvZiBvdmVyd3JpdGluZ1xuICAgKiBiZWNhdXNlIHdlIHdhbnQgdG8gaW52b2tlIG9uQ3JlYXRlUnVsZSBob29rIHRvIG1ha2UgcGx1Z2lucyB3b3JrLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShuYW1lLCBkZWNsLCBydWxlT3B0aW9ucykge1xuICAgIHZhciBvbGRSdWxlID0gdGhpcy5nZXQobmFtZSk7XG4gICAgdmFyIG9sZEluZGV4ID0gdGhpcy5pbmRleC5pbmRleE9mKG9sZFJ1bGUpO1xuXG4gICAgaWYgKG9sZFJ1bGUpIHtcbiAgICAgIHRoaXMucmVtb3ZlKG9sZFJ1bGUpO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25zID0gcnVsZU9wdGlvbnM7XG4gICAgaWYgKG9sZEluZGV4ICE9PSAtMSkgb3B0aW9ucyA9IF9leHRlbmRzKHt9LCBydWxlT3B0aW9ucywge1xuICAgICAgaW5kZXg6IG9sZEluZGV4XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuYWRkKG5hbWUsIGRlY2wsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBydWxlIGJ5IG5hbWUgb3Igc2VsZWN0b3IuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldChuYW1lT3JTZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLm1hcFtuYW1lT3JTZWxlY3Rvcl07XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShydWxlKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyKHJ1bGUpO1xuICAgIGRlbGV0ZSB0aGlzLnJhd1tydWxlLmtleV07XG4gICAgdGhpcy5pbmRleC5zcGxpY2UodGhpcy5pbmRleC5pbmRleE9mKHJ1bGUpLCAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLmluZGV4LmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJ1biBgb25Qcm9jZXNzUnVsZSgpYCBwbHVnaW5zIG9uIGV2ZXJ5IHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgIHZhciBwbHVnaW5zID0gdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zOyAvLyBXZSBuZWVkIHRvIGNsb25lIGFycmF5IGJlY2F1c2UgaWYgd2UgbW9kaWZ5IHRoZSBpbmRleCBzb21ld2hlcmUgZWxzZSBkdXJpbmcgYSBsb29wXG4gICAgLy8gd2UgZW5kIHVwIHdpdGggdmVyeSBoYXJkLXRvLXRyYWNrLWRvd24gc2lkZSBlZmZlY3RzLlxuXG4gICAgdGhpcy5pbmRleC5zbGljZSgwKS5mb3JFYWNoKHBsdWdpbnMub25Qcm9jZXNzUnVsZSwgcGx1Z2lucyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgcnVsZSBpbiBgLm1hcGAsIGAuY2xhc3Nlc2AgYW5kIGAua2V5ZnJhbWVzYCBtYXBzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKHJ1bGUpIHtcbiAgICB0aGlzLm1hcFtydWxlLmtleV0gPSBydWxlO1xuXG4gICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBTdHlsZVJ1bGUpIHtcbiAgICAgIHRoaXMubWFwW3J1bGUuc2VsZWN0b3JdID0gcnVsZTtcbiAgICAgIGlmIChydWxlLmlkKSB0aGlzLmNsYXNzZXNbcnVsZS5rZXldID0gcnVsZS5pZDtcbiAgICB9IGVsc2UgaWYgKHJ1bGUgaW5zdGFuY2VvZiBLZXlmcmFtZXNSdWxlICYmIHRoaXMua2V5ZnJhbWVzKSB7XG4gICAgICB0aGlzLmtleWZyYW1lc1tydWxlLm5hbWVdID0gcnVsZS5pZDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51bnJlZ2lzdGVyID0gZnVuY3Rpb24gdW5yZWdpc3RlcihydWxlKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW3J1bGUua2V5XTtcblxuICAgIGlmIChydWxlIGluc3RhbmNlb2YgU3R5bGVSdWxlKSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXBbcnVsZS5zZWxlY3Rvcl07XG4gICAgICBkZWxldGUgdGhpcy5jbGFzc2VzW3J1bGUua2V5XTtcbiAgICB9IGVsc2UgaWYgKHJ1bGUgaW5zdGFuY2VvZiBLZXlmcmFtZXNSdWxlKSB7XG4gICAgICBkZWxldGUgdGhpcy5rZXlmcmFtZXNbcnVsZS5uYW1lXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgZnVuY3Rpb24gdmFsdWVzIHdpdGggYSBuZXcgZGF0YS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBuYW1lO1xuICAgIHZhciBkYXRhO1xuICAgIHZhciBvcHRpb25zO1xuXG4gICAgaWYgKHR5cGVvZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07XG4gICAgICBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzFdO1xuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXTtcbiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07XG4gICAgICBuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy51cGRhdGVPbmUodGhpcy5nZXQobmFtZSksIGRhdGEsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pbmRleC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy51cGRhdGVPbmUodGhpcy5pbmRleFtpbmRleF0sIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBwbHVnaW5zLCB1cGRhdGUgcnVsZSBwcm9wcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlT25lID0gZnVuY3Rpb24gdXBkYXRlT25lKHJ1bGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0gZGVmYXVsdFVwZGF0ZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIF90aGlzJG9wdGlvbnMyID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBwbHVnaW5zID0gX3RoaXMkb3B0aW9uczIuanNzLnBsdWdpbnMsXG4gICAgICAgIHNoZWV0ID0gX3RoaXMkb3B0aW9uczIuc2hlZXQ7IC8vIEl0IGlzIGEgcnVsZXMgY29udGFpbmVyIGxpa2UgZm9yIGUuZy4gQ29uZGl0aW9uYWxSdWxlLlxuXG4gICAgaWYgKHJ1bGUucnVsZXMgaW5zdGFuY2VvZiBSdWxlTGlzdCkge1xuICAgICAgcnVsZS5ydWxlcy51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlID0gcnVsZS5zdHlsZTtcbiAgICBwbHVnaW5zLm9uVXBkYXRlKGRhdGEsIHJ1bGUsIHNoZWV0LCBvcHRpb25zKTsgLy8gV2UgcmVseSBvbiBhIG5ldyBgc3R5bGVgIHJlZiBpbiBjYXNlIGl0IHdhcyBtdXRhdGVkIGR1cmluZyBvblVwZGF0ZSBob29rLlxuXG4gICAgaWYgKG9wdGlvbnMucHJvY2VzcyAmJiBzdHlsZSAmJiBzdHlsZSAhPT0gcnVsZS5zdHlsZSkge1xuICAgICAgLy8gV2UgbmVlZCB0byBydW4gdGhlIHBsdWdpbnMgaW4gY2FzZSBuZXcgYHN0eWxlYCByZWxpZXMgb24gc3ludGF4IHBsdWdpbnMuXG4gICAgICBwbHVnaW5zLm9uUHJvY2Vzc1N0eWxlKHJ1bGUuc3R5bGUsIHJ1bGUsIHNoZWV0KTsgLy8gVXBkYXRlIGFuZCBhZGQgcHJvcHMuXG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gcnVsZS5zdHlsZSkge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gcnVsZS5zdHlsZVtwcm9wXTtcbiAgICAgICAgdmFyIHByZXZWYWx1ZSA9IHN0eWxlW3Byb3BdOyAvLyBXZSBuZWVkIHRvIHVzZSBgZm9yY2U6IHRydWVgIGJlY2F1c2UgYHJ1bGUuc3R5bGVgIGhhcyBiZWVuIHVwZGF0ZWQgZHVyaW5nIG9uVXBkYXRlIGhvb2ssIHNvIGBydWxlLnByb3AoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBDU1NPTSBydWxlLlxuICAgICAgICAvLyBXZSBkbyB0aGlzIGNvbXBhcmlzb24gdG8gYXZvaWQgdW5uZWVkZWQgYHJ1bGUucHJvcCgpYCBjYWxscywgc2luY2Ugd2UgaGF2ZSB0aGUgb2xkIGBzdHlsZWAgb2JqZWN0IGhlcmUuXG5cbiAgICAgICAgaWYgKG5leHRWYWx1ZSAhPT0gcHJldlZhbHVlKSB7XG4gICAgICAgICAgcnVsZS5wcm9wKHByb3AsIG5leHRWYWx1ZSwgZm9yY2VVcGRhdGVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZW1vdmUgcHJvcHMuXG5cblxuICAgICAgZm9yICh2YXIgX3Byb3AgaW4gc3R5bGUpIHtcbiAgICAgICAgdmFyIF9uZXh0VmFsdWUgPSBydWxlLnN0eWxlW19wcm9wXTtcbiAgICAgICAgdmFyIF9wcmV2VmFsdWUgPSBzdHlsZVtfcHJvcF07IC8vIFdlIG5lZWQgdG8gdXNlIGBmb3JjZTogdHJ1ZWAgYmVjYXVzZSBgcnVsZS5zdHlsZWAgaGFzIGJlZW4gdXBkYXRlZCBkdXJpbmcgb25VcGRhdGUgaG9vaywgc28gYHJ1bGUucHJvcCgpYCB3aWxsIG5vdCB1cGRhdGUgdGhlIENTU09NIHJ1bGUuXG4gICAgICAgIC8vIFdlIGRvIHRoaXMgY29tcGFyaXNvbiB0byBhdm9pZCB1bm5lZWRlZCBgcnVsZS5wcm9wKClgIGNhbGxzLCBzaW5jZSB3ZSBoYXZlIHRoZSBvbGQgYHN0eWxlYCBvYmplY3QgaGVyZS5cblxuICAgICAgICBpZiAoX25leHRWYWx1ZSA9PSBudWxsICYmIF9uZXh0VmFsdWUgIT09IF9wcmV2VmFsdWUpIHtcbiAgICAgICAgICBydWxlLnByb3AoX3Byb3AsIG51bGwsIGZvcmNlVXBkYXRlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgcnVsZXMgdG8gYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuICAgIHZhciBsaW5rID0gc2hlZXQgPyBzaGVldC5vcHRpb25zLmxpbmsgOiBmYWxzZTtcblxuICAgIHZhciBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMgPSBnZXRXaGl0ZXNwYWNlU3ltYm9scyhvcHRpb25zKSxcbiAgICAgICAgbGluZWJyZWFrID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLmxpbmVicmVhaztcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmluZGV4Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmluZGV4W2luZGV4XTtcbiAgICAgIHZhciBjc3MgPSBydWxlLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBObyBuZWVkIHRvIHJlbmRlciBhbiBlbXB0eSBydWxlLlxuXG4gICAgICBpZiAoIWNzcyAmJiAhbGluaykgY29udGludWU7XG4gICAgICBpZiAoc3RyKSBzdHIgKz0gbGluZWJyZWFrO1xuICAgICAgc3RyICs9IGNzcztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIHJldHVybiBSdWxlTGlzdDtcbn0oKTtcblxudmFyIFN0eWxlU2hlZXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHlsZVNoZWV0KHN0eWxlcywgb3B0aW9ucykge1xuICAgIHRoaXMuYXR0YWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlcGxveWVkID0gZmFsc2U7XG4gICAgdGhpcy5jbGFzc2VzID0ge307XG4gICAgdGhpcy5rZXlmcmFtZXMgPSB7fTtcbiAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgc2hlZXQ6IHRoaXMsXG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICBjbGFzc2VzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBrZXlmcmFtZXM6IHRoaXMua2V5ZnJhbWVzXG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5SZW5kZXJlcikge1xuICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBvcHRpb25zLlJlbmRlcmVyKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMucnVsZXMgPSBuZXcgUnVsZUxpc3QodGhpcy5vcHRpb25zKTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZXNbbmFtZV0pO1xuICAgIH1cblxuICAgIHRoaXMucnVsZXMucHJvY2VzcygpO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggcmVuZGVyYWJsZSB0byB0aGUgcmVuZGVyIHRyZWUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFN0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4gIF9wcm90by5hdHRhY2ggPSBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgaWYgKHRoaXMuYXR0YWNoZWQpIHJldHVybiB0aGlzO1xuICAgIGlmICh0aGlzLnJlbmRlcmVyKSB0aGlzLnJlbmRlcmVyLmF0dGFjaCgpO1xuICAgIHRoaXMuYXR0YWNoZWQgPSB0cnVlOyAvLyBPcmRlciBpcyBpbXBvcnRhbnQsIGJlY2F1c2Ugd2UgY2FuJ3QgdXNlIGluc2VydFJ1bGUgQVBJIGlmIHN0eWxlIGVsZW1lbnQgaXMgbm90IGF0dGFjaGVkLlxuXG4gICAgaWYgKCF0aGlzLmRlcGxveWVkKSB0aGlzLmRlcGxveSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgcmVuZGVyYWJsZSBmcm9tIHJlbmRlciB0cmVlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZXRhY2ggPSBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgaWYgKCF0aGlzLmF0dGFjaGVkKSByZXR1cm4gdGhpcztcbiAgICBpZiAodGhpcy5yZW5kZXJlcikgdGhpcy5yZW5kZXJlci5kZXRhY2goKTtcbiAgICB0aGlzLmF0dGFjaGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHJ1bGUgdG8gdGhlIGN1cnJlbnQgc3R5bGVzaGVldC5cbiAgICogV2lsbCBpbnNlcnQgYSBydWxlIGFsc28gYWZ0ZXIgdGhlIHN0eWxlc2hlZXQgaGFzIGJlZW4gcmVuZGVyZWQgZmlyc3QgdGltZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkUnVsZSA9IGZ1bmN0aW9uIGFkZFJ1bGUobmFtZSwgZGVjbCwgb3B0aW9ucykge1xuICAgIHZhciBxdWV1ZSA9IHRoaXMucXVldWU7IC8vIFBsdWdpbnMgY2FuIGNyZWF0ZSBydWxlcy5cbiAgICAvLyBJbiBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgcmlnaHQgb3JkZXIsIHdlIG5lZWQgdG8gcXVldWUgYWxsIGAuYWRkUnVsZWAgY2FsbHMsXG4gICAgLy8gd2hpY2ggaGFwcGVuIGFmdGVyIHRoZSBmaXJzdCBgcnVsZXMuYWRkKClgIGNhbGwuXG5cbiAgICBpZiAodGhpcy5hdHRhY2hlZCAmJiAhcXVldWUpIHRoaXMucXVldWUgPSBbXTtcbiAgICB2YXIgcnVsZSA9IHRoaXMucnVsZXMuYWRkKG5hbWUsIGRlY2wsIG9wdGlvbnMpO1xuICAgIGlmICghcnVsZSkgcmV0dXJuIG51bGw7XG4gICAgdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUocnVsZSk7XG5cbiAgICBpZiAodGhpcy5hdHRhY2hlZCkge1xuICAgICAgaWYgKCF0aGlzLmRlcGxveWVkKSByZXR1cm4gcnVsZTsgLy8gRG9uJ3QgaW5zZXJ0IHJ1bGUgZGlyZWN0bHkgaWYgdGhlcmUgaXMgbm8gc3RyaW5naWZpZWQgdmVyc2lvbiB5ZXQuXG4gICAgICAvLyBJdCB3aWxsIGJlIGluc2VydGVkIGFsbCB0b2dldGhlciB3aGVuIC5hdHRhY2ggaXMgY2FsbGVkLlxuXG4gICAgICBpZiAocXVldWUpIHF1ZXVlLnB1c2gocnVsZSk7ZWxzZSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0UnVsZShydWxlKTtcblxuICAgICAgICBpZiAodGhpcy5xdWV1ZSkge1xuICAgICAgICAgIHRoaXMucXVldWUuZm9yRWFjaCh0aGlzLmluc2VydFJ1bGUsIHRoaXMpO1xuICAgICAgICAgIHRoaXMucXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBydWxlO1xuICAgIH0gLy8gV2UgY2FuJ3QgYWRkIHJ1bGVzIHRvIGEgZGV0YWNoZWQgc3R5bGUgbm9kZS5cbiAgICAvLyBXZSB3aWxsIHJlZGVwbG95IHRoZSBzaGVldCBvbmNlIHVzZXIgd2lsbCBhdHRhY2ggaXQuXG5cblxuICAgIHRoaXMuZGVwbG95ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhIHJ1bGUgaW4gdGhlIGN1cnJlbnQgc3R5bGVzaGVldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwbGFjZVJ1bGUgPSBmdW5jdGlvbiByZXBsYWNlUnVsZShuYW1lT3JTZWxlY3RvciwgZGVjbCwgb3B0aW9ucykge1xuICAgIHZhciBvbGRSdWxlID0gdGhpcy5ydWxlcy5nZXQobmFtZU9yU2VsZWN0b3IpO1xuICAgIGlmICghb2xkUnVsZSkgcmV0dXJuIHRoaXMuYWRkUnVsZShuYW1lT3JTZWxlY3RvciwgZGVjbCwgb3B0aW9ucyk7XG4gICAgdmFyIG5ld1J1bGUgPSB0aGlzLnJ1bGVzLnJlcGxhY2UobmFtZU9yU2VsZWN0b3IsIGRlY2wsIG9wdGlvbnMpO1xuXG4gICAgaWYgKG5ld1J1bGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKG5ld1J1bGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmF0dGFjaGVkKSB7XG4gICAgICBpZiAoIXRoaXMuZGVwbG95ZWQpIHJldHVybiBuZXdSdWxlOyAvLyBEb24ndCByZXBsYWNlIC8gZGVsZXRlIHJ1bGUgZGlyZWN0bHkgaWYgdGhlcmUgaXMgbm8gc3RyaW5naWZpZWQgdmVyc2lvbiB5ZXQuXG4gICAgICAvLyBJdCB3aWxsIGJlIGluc2VydGVkIGFsbCB0b2dldGhlciB3aGVuIC5hdHRhY2ggaXMgY2FsbGVkLlxuXG4gICAgICBpZiAodGhpcy5yZW5kZXJlcikge1xuICAgICAgICBpZiAoIW5ld1J1bGUpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRlbGV0ZVJ1bGUob2xkUnVsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAob2xkUnVsZS5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5yZXBsYWNlUnVsZShvbGRSdWxlLnJlbmRlcmFibGUsIG5ld1J1bGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdSdWxlO1xuICAgIH0gLy8gV2UgY2FuJ3QgcmVwbGFjZSBydWxlcyB0byBhIGRldGFjaGVkIHN0eWxlIG5vZGUuXG4gICAgLy8gV2Ugd2lsbCByZWRlcGxveSB0aGUgc2hlZXQgb25jZSB1c2VyIHdpbGwgYXR0YWNoIGl0LlxuXG5cbiAgICB0aGlzLmRlcGxveWVkID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ld1J1bGU7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBydWxlIGludG8gdGhlIFN0eWxlU2hlZXRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5zZXJ0UnVsZSA9IGZ1bmN0aW9uIGluc2VydFJ1bGUocnVsZSkge1xuICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmluc2VydFJ1bGUocnVsZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIGFkZCBydWxlcy5cbiAgICogV2lsbCByZW5kZXIgYWxzbyBhZnRlciBTdHlsZSBTaGVldCB3YXMgcmVuZGVyZWQgdGhlIGZpcnN0IHRpbWUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJ1bGVzID0gZnVuY3Rpb24gYWRkUnVsZXMoc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgdmFyIGFkZGVkID0gW107XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlcykge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmFkZFJ1bGUobmFtZSwgc3R5bGVzW25hbWVdLCBvcHRpb25zKTtcbiAgICAgIGlmIChydWxlKSBhZGRlZC5wdXNoKHJ1bGUpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRlZDtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZSBieSBuYW1lIG9yIHNlbGVjdG9yLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRSdWxlID0gZnVuY3Rpb24gZ2V0UnVsZShuYW1lT3JTZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmdldChuYW1lT3JTZWxlY3Rvcik7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJ1bGUgYnkgbmFtZS5cbiAgICogUmV0dXJucyBgdHJ1ZWA6IGlmIHJ1bGUgaGFzIGJlZW4gZGVsZXRlZCBmcm9tIHRoZSBET00uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlbGV0ZVJ1bGUgPSBmdW5jdGlvbiBkZWxldGVSdWxlKG5hbWUpIHtcbiAgICB2YXIgcnVsZSA9IHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JyA/IG5hbWUgOiB0aGlzLnJ1bGVzLmdldChuYW1lKTtcblxuICAgIGlmICghcnVsZSB8fCAvLyBTdHlsZSBzaGVldCB3YXMgY3JlYXRlZCB3aXRob3V0IGxpbms6IHRydWUgYW5kIGF0dGFjaGVkLCBpbiB0aGlzIGNhc2Ugd2VcbiAgICAvLyB3b24ndCBiZSBhYmxlIHRvIHJlbW92ZSB0aGUgQ1NTIHJ1bGUgZnJvbSB0aGUgRE9NLlxuICAgIHRoaXMuYXR0YWNoZWQgJiYgIXJ1bGUucmVuZGVyYWJsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMucnVsZXMucmVtb3ZlKHJ1bGUpO1xuXG4gICAgaWYgKHRoaXMuYXR0YWNoZWQgJiYgcnVsZS5yZW5kZXJhYmxlICYmIHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmRlbGV0ZVJ1bGUocnVsZS5yZW5kZXJhYmxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIERlcGxveSBwdXJlIENTUyBzdHJpbmcgdG8gYSByZW5kZXJhYmxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZXBsb3kgPSBmdW5jdGlvbiBkZXBsb3koKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHRoaXMucmVuZGVyZXIuZGVwbG95KCk7XG4gICAgdGhpcy5kZXBsb3llZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgZnVuY3Rpb24gdmFsdWVzIHdpdGggYSBuZXcgZGF0YS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBfdGhpcyRydWxlcztcblxuICAgIChfdGhpcyRydWxlcyA9IHRoaXMucnVsZXMpLnVwZGF0ZS5hcHBseShfdGhpcyRydWxlcywgYXJndW1lbnRzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgc2luZ2xlIHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZU9uZSA9IGZ1bmN0aW9uIHVwZGF0ZU9uZShydWxlLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5ydWxlcy51cGRhdGVPbmUocnVsZSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgcnVsZXMgdG8gYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxudmFyIFBsdWdpbnNSZWdpc3RyeSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBsdWdpbnNSZWdpc3RyeSgpIHtcbiAgICB0aGlzLnBsdWdpbnMgPSB7XG4gICAgICBpbnRlcm5hbDogW10sXG4gICAgICBleHRlcm5hbDogW11cbiAgICB9O1xuICAgIHRoaXMucmVnaXN0cnkgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBQbHVnaW5zUmVnaXN0cnkucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBDYWxsIGBvbkNyZWF0ZVJ1bGVgIGhvb2tzIGFuZCByZXR1cm4gYW4gb2JqZWN0IGlmIHJldHVybmVkIGJ5IGEgaG9vay5cbiAgICovXG4gIF9wcm90by5vbkNyZWF0ZVJ1bGUgPSBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUobmFtZSwgZGVjbCwgb3B0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vbkNyZWF0ZVJ1bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBydWxlID0gdGhpcy5yZWdpc3RyeS5vbkNyZWF0ZVJ1bGVbaV0obmFtZSwgZGVjbCwgb3B0aW9ucyk7XG4gICAgICBpZiAocnVsZSkgcmV0dXJuIHJ1bGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uUHJvY2Vzc1J1bGVgIGhvb2tzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblByb2Nlc3NSdWxlID0gZnVuY3Rpb24gb25Qcm9jZXNzUnVsZShydWxlKSB7XG4gICAgaWYgKHJ1bGUuaXNQcm9jZXNzZWQpIHJldHVybjtcbiAgICB2YXIgc2hlZXQgPSBydWxlLm9wdGlvbnMuc2hlZXQ7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzUnVsZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NSdWxlW2ldKHJ1bGUsIHNoZWV0KTtcbiAgICB9XG5cbiAgICBpZiAocnVsZS5zdHlsZSkgdGhpcy5vblByb2Nlc3NTdHlsZShydWxlLnN0eWxlLCBydWxlLCBzaGVldCk7XG4gICAgcnVsZS5pc1Byb2Nlc3NlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uUHJvY2Vzc1N0eWxlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25Qcm9jZXNzU3R5bGUgPSBmdW5jdGlvbiBvblByb2Nlc3NTdHlsZShzdHlsZSwgcnVsZSwgc2hlZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzU3R5bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJ1bGUuc3R5bGUgPSB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1N0eWxlW2ldKHJ1bGUuc3R5bGUsIHJ1bGUsIHNoZWV0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uUHJvY2Vzc1NoZWV0YCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25Qcm9jZXNzU2hlZXQgPSBmdW5jdGlvbiBvblByb2Nlc3NTaGVldChzaGVldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NTaGVldC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NTaGVldFtpXShzaGVldCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIGBvblVwZGF0ZWAgaG9va3MuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm9uVXBkYXRlID0gZnVuY3Rpb24gb25VcGRhdGUoZGF0YSwgcnVsZSwgc2hlZXQsIG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucmVnaXN0cnkub25VcGRhdGVbaV0oZGF0YSwgcnVsZSwgc2hlZXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCBgb25DaGFuZ2VWYWx1ZWAgaG9va3MuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm9uQ2hhbmdlVmFsdWUgPSBmdW5jdGlvbiBvbkNoYW5nZVZhbHVlKHZhbHVlLCBwcm9wLCBydWxlKSB7XG4gICAgdmFyIHByb2Nlc3NlZFZhbHVlID0gdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25DaGFuZ2VWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvY2Vzc2VkVmFsdWUgPSB0aGlzLnJlZ2lzdHJ5Lm9uQ2hhbmdlVmFsdWVbaV0ocHJvY2Vzc2VkVmFsdWUsIHByb3AsIHJ1bGUpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWRWYWx1ZTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShuZXdQbHVnaW4sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBxdWV1ZTogJ2V4dGVybmFsJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgcGx1Z2lucyA9IHRoaXMucGx1Z2luc1tvcHRpb25zLnF1ZXVlXTsgLy8gQXZvaWRzIGFwcGx5aW5nIHNhbWUgcGx1Z2luIHR3aWNlLCBhdCBsZWFzdCBiYXNlZCBvbiByZWYuXG5cbiAgICBpZiAocGx1Z2lucy5pbmRleE9mKG5ld1BsdWdpbikgIT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGx1Z2lucy5wdXNoKG5ld1BsdWdpbik7XG4gICAgdGhpcy5yZWdpc3RyeSA9IFtdLmNvbmNhdCh0aGlzLnBsdWdpbnMuZXh0ZXJuYWwsIHRoaXMucGx1Z2lucy5pbnRlcm5hbCkucmVkdWNlKGZ1bmN0aW9uIChyZWdpc3RyeSwgcGx1Z2luKSB7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIHBsdWdpbikge1xuICAgICAgICBpZiAobmFtZSBpbiByZWdpc3RyeSkge1xuICAgICAgICAgIHJlZ2lzdHJ5W25hbWVdLnB1c2gocGx1Z2luW25hbWVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFVua25vd24gaG9vayBcXFwiXCIgKyBuYW1lICsgXCJcXFwiLlwiKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVnaXN0cnk7XG4gICAgfSwge1xuICAgICAgb25DcmVhdGVSdWxlOiBbXSxcbiAgICAgIG9uUHJvY2Vzc1J1bGU6IFtdLFxuICAgICAgb25Qcm9jZXNzU3R5bGU6IFtdLFxuICAgICAgb25Qcm9jZXNzU2hlZXQ6IFtdLFxuICAgICAgb25DaGFuZ2VWYWx1ZTogW10sXG4gICAgICBvblVwZGF0ZTogW11cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUGx1Z2luc1JlZ2lzdHJ5O1xufSgpO1xuXG4vKipcbiAqIFNoZWV0cyByZWdpc3RyeSB0byBhY2Nlc3MgYWxsIGluc3RhbmNlcyBpbiBvbmUgcGxhY2UuXG4gKi9cblxudmFyIFNoZWV0c1JlZ2lzdHJ5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2hlZXRzUmVnaXN0cnkoKSB7XG4gICAgdGhpcy5yZWdpc3RyeSA9IFtdO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFNoZWV0c1JlZ2lzdHJ5LnByb3RvdHlwZTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBTdHlsZSBTaGVldC5cbiAgICovXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQoc2hlZXQpIHtcbiAgICB2YXIgcmVnaXN0cnkgPSB0aGlzLnJlZ2lzdHJ5O1xuICAgIHZhciBpbmRleCA9IHNoZWV0Lm9wdGlvbnMuaW5kZXg7XG4gICAgaWYgKHJlZ2lzdHJ5LmluZGV4T2Yoc2hlZXQpICE9PSAtMSkgcmV0dXJuO1xuXG4gICAgaWYgKHJlZ2lzdHJ5Lmxlbmd0aCA9PT0gMCB8fCBpbmRleCA+PSB0aGlzLmluZGV4KSB7XG4gICAgICByZWdpc3RyeS5wdXNoKHNoZWV0KTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEZpbmQgYSBwb3NpdGlvbi5cblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlZ2lzdHJ5W2ldLm9wdGlvbnMuaW5kZXggPiBpbmRleCkge1xuICAgICAgICByZWdpc3RyeS5zcGxpY2UoaSwgMCwgc2hlZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNldCB0aGUgcmVnaXN0cnkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5yZWdpc3RyeSA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBTdHlsZSBTaGVldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKHNoZWV0KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5yZWdpc3RyeS5pbmRleE9mKHNoZWV0KTtcbiAgICB0aGlzLnJlZ2lzdHJ5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgYWxsIGF0dGFjaGVkIHNoZWV0cyB0byBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBhdHRhY2hlZCA9IF9yZWYuYXR0YWNoZWQsXG4gICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJhdHRhY2hlZFwiXSk7XG5cbiAgICB2YXIgX2dldFdoaXRlc3BhY2VTeW1ib2xzID0gZ2V0V2hpdGVzcGFjZVN5bWJvbHMob3B0aW9ucyksXG4gICAgICAgIGxpbmVicmVhayA9IF9nZXRXaGl0ZXNwYWNlU3ltYm9scy5saW5lYnJlYWs7XG5cbiAgICB2YXIgY3NzID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzaGVldCA9IHRoaXMucmVnaXN0cnlbaV07XG5cbiAgICAgIGlmIChhdHRhY2hlZCAhPSBudWxsICYmIHNoZWV0LmF0dGFjaGVkICE9PSBhdHRhY2hlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNzcykgY3NzICs9IGxpbmVicmVhaztcbiAgICAgIGNzcyArPSBzaGVldC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3NzO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTaGVldHNSZWdpc3RyeSwgW3tcbiAgICBrZXk6IFwiaW5kZXhcIixcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGlnaGVzdCBpbmRleCBudW1iZXIuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5sZW5ndGggPT09IDAgPyAwIDogdGhpcy5yZWdpc3RyeVt0aGlzLnJlZ2lzdHJ5Lmxlbmd0aCAtIDFdLm9wdGlvbnMuaW5kZXg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNoZWV0c1JlZ2lzdHJ5O1xufSgpO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBnbG9iYWwgc2hlZXRzIHJlZ2lzdHJ5LiBPbmx5IERvbVJlbmRlcmVyIHdpbGwgYWRkIHNoZWV0cyB0byBpdC5cbiAqIE9uIHRoZSBzZXJ2ZXIgb25lIHNob3VsZCB1c2UgYW4gb3duIFNoZWV0c1JlZ2lzdHJ5IGluc3RhbmNlIGFuZCBhZGQgdGhlXG4gKiBzaGVldHMgdG8gaXQsIGJlY2F1c2UgeW91IG5lZWQgdG8gbWFrZSBzdXJlIHRvIGNyZWF0ZSBhIG5ldyByZWdpc3RyeSBmb3JcbiAqIGVhY2ggcmVxdWVzdCBpbiBvcmRlciB0byBub3QgbGVhayBzaGVldHMgYWNyb3NzIHJlcXVlc3RzLlxuICovXG5cbnZhciBzaGVldHMgPSBuZXcgU2hlZXRzUmVnaXN0cnkoKTtcblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuLyoqXG4gKiBOb3cgdGhhdCBgZ2xvYmFsVGhpc2AgaXMgYXZhaWxhYmxlIG9uIG1vc3QgcGxhdGZvcm1zXG4gKiAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZ2xvYmFsVGhpcyNicm93c2VyX2NvbXBhdGliaWxpdHkpXG4gKiB3ZSBjaGVjayBmb3IgYGdsb2JhbFRoaXNgIGZpcnN0LiBgZ2xvYmFsVGhpc2AgaXMgbmVjZXNzYXJ5IGZvciBqc3NcbiAqIHRvIHJ1biBpbiBBZ29yaWMncyBzZWN1cmUgdmVyc2lvbiBvZiBKYXZhU2NyaXB0IChTRVMpLiBVbmRlciBTRVMsXG4gKiBgZ2xvYmFsVGhpc2AgZXhpc3RzLCBidXQgYHdpbmRvd2AsIGBzZWxmYCwgYW5kIGBGdW5jdGlvbigncmV0dXJuXG4gKiB0aGlzJykoKWAgYXJlIGFsbCB1bmRlZmluZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbiAqL1xudmFyIGdsb2JhbFRoaXMkMSA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PT0gTWF0aCA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxudmFyIG5zID0gJzJmMWFjYzZjM2E2MDZiMDgyZTVlZWY1ZTU0NDE0ZmZiJztcbmlmIChnbG9iYWxUaGlzJDFbbnNdID09IG51bGwpIGdsb2JhbFRoaXMkMVtuc10gPSAwOyAvLyBCdW5kbGUgbWF5IGNvbnRhaW4gbXVsdGlwbGUgSlNTIHZlcnNpb25zIGF0IHRoZSBzYW1lIHRpbWUuIEluIG9yZGVyIHRvIGlkZW50aWZ5XG4vLyB0aGUgY3VycmVudCB2ZXJzaW9uIHdpdGgganVzdCBvbmUgc2hvcnQgbnVtYmVyIGFuZCB1c2UgaXQgZm9yIGNsYXNzZXMgZ2VuZXJhdGlvblxuLy8gd2UgdXNlIGEgY291bnRlci4gQWxzbyBpdCBpcyBtb3JlIGFjY3VyYXRlLCBiZWNhdXNlIHVzZXIgY2FuIG1hbnVhbGx5IHJlZXZhbHVhdGVcbi8vIHRoZSBtb2R1bGUuXG5cbnZhciBtb2R1bGVJZCA9IGdsb2JhbFRoaXMkMVtuc10rKztcblxudmFyIG1heFJ1bGVzID0gMWUxMDtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGdlbmVyYXRlcyB1bmlxdWUgY2xhc3MgbmFtZXMgYmFzZWQgb24gY291bnRlcnMuXG4gKiBXaGVuIG5ldyBnZW5lcmF0b3IgZnVuY3Rpb24gaXMgY3JlYXRlZCwgcnVsZSBjb3VudGVyIGlzIHJlc2V0ZWQuXG4gKiBXZSBuZWVkIHRvIHJlc2V0IHRoZSBydWxlIGNvdW50ZXIgZm9yIFNTUiBmb3IgZWFjaCByZXF1ZXN0LlxuICovXG5cbnZhciBjcmVhdGVHZW5lcmF0ZUlkID0gZnVuY3Rpb24gY3JlYXRlR2VuZXJhdGVJZChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgcnVsZUNvdW50ZXIgPSAwO1xuXG4gIHZhciBnZW5lcmF0ZUlkID0gZnVuY3Rpb24gZ2VuZXJhdGVJZChydWxlLCBzaGVldCkge1xuICAgIHJ1bGVDb3VudGVyICs9IDE7XG5cbiAgICBpZiAocnVsZUNvdW50ZXIgPiBtYXhSdWxlcykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJbSlNTXSBZb3UgbWlnaHQgaGF2ZSBhIG1lbW9yeSBsZWFrLiBSdWxlIGNvdW50ZXIgaXMgYXQgXCIgKyBydWxlQ291bnRlciArIFwiLlwiKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICB2YXIganNzSWQgPSAnJztcbiAgICB2YXIgcHJlZml4ID0gJyc7XG5cbiAgICBpZiAoc2hlZXQpIHtcbiAgICAgIGlmIChzaGVldC5vcHRpb25zLmNsYXNzTmFtZVByZWZpeCkge1xuICAgICAgICBwcmVmaXggPSBzaGVldC5vcHRpb25zLmNsYXNzTmFtZVByZWZpeDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNoZWV0Lm9wdGlvbnMuanNzLmlkICE9IG51bGwpIHtcbiAgICAgICAganNzSWQgPSBTdHJpbmcoc2hlZXQub3B0aW9ucy5qc3MuaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1pbmlmeSkge1xuICAgICAgLy8gVXNpbmcgXCJjXCIgYmVjYXVzZSBhIG51bWJlciBjYW4ndCBiZSB0aGUgZmlyc3QgY2hhciBpbiBhIGNsYXNzIG5hbWUuXG4gICAgICByZXR1cm4gXCJcIiArIChwcmVmaXggfHwgJ2MnKSArIG1vZHVsZUlkICsganNzSWQgKyBydWxlQ291bnRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlZml4ICsgcnVsZS5rZXkgKyBcIi1cIiArIG1vZHVsZUlkICsgKGpzc0lkID8gXCItXCIgKyBqc3NJZCA6ICcnKSArIFwiLVwiICsgcnVsZUNvdW50ZXI7XG4gIH07XG5cbiAgcmV0dXJuIGdlbmVyYXRlSWQ7XG59O1xuXG4vKipcbiAqIENhY2hlIHRoZSB2YWx1ZSBmcm9tIHRoZSBmaXJzdCB0aW1lIGEgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICovXG5cbnZhciBtZW1vaXplID0gZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIgdmFsdWU7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBmbigpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG4vKipcbiAqIEdldCBhIHN0eWxlIHByb3BlcnR5IHZhbHVlLlxuICovXG5cblxudmFyIGdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbiBnZXRQcm9wZXJ0eVZhbHVlKGNzc1J1bGUsIHByb3ApIHtcbiAgdHJ5IHtcbiAgICAvLyBTdXBwb3J0IENTU1RPTS5cbiAgICBpZiAoY3NzUnVsZS5hdHRyaWJ1dGVTdHlsZU1hcCkge1xuICAgICAgcmV0dXJuIGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXAuZ2V0KHByb3ApO1xuICAgIH1cblxuICAgIHJldHVybiBjc3NSdWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElFIG1heSB0aHJvdyBpZiBwcm9wZXJ0eSBpcyB1bmtub3duLlxuICAgIHJldHVybiAnJztcbiAgfVxufTtcbi8qKlxuICogU2V0IGEgc3R5bGUgcHJvcGVydHkuXG4gKi9cblxuXG52YXIgc2V0UHJvcGVydHkgPSBmdW5jdGlvbiBzZXRQcm9wZXJ0eShjc3NSdWxlLCBwcm9wLCB2YWx1ZSkge1xuICB0cnkge1xuICAgIHZhciBjc3NWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBjc3NWYWx1ZSA9IHRvQ3NzVmFsdWUodmFsdWUpO1xuICAgIH0gLy8gU3VwcG9ydCBDU1NUT00uXG5cblxuICAgIGlmIChjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwKSB7XG4gICAgICBjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwLnNldChwcm9wLCBjc3NWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpbmRleE9mSW1wb3J0YW50RmxhZyA9IGNzc1ZhbHVlID8gY3NzVmFsdWUuaW5kZXhPZignIWltcG9ydGFudCcpIDogLTE7XG4gICAgICB2YXIgY3NzVmFsdWVXaXRob3V0SW1wb3J0YW50RmxhZyA9IGluZGV4T2ZJbXBvcnRhbnRGbGFnID4gLTEgPyBjc3NWYWx1ZS5zdWJzdHIoMCwgaW5kZXhPZkltcG9ydGFudEZsYWcgLSAxKSA6IGNzc1ZhbHVlO1xuICAgICAgY3NzUnVsZS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCBjc3NWYWx1ZVdpdGhvdXRJbXBvcnRhbnRGbGFnLCBpbmRleE9mSW1wb3J0YW50RmxhZyA+IC0xID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJRSBtYXkgdGhyb3cgaWYgcHJvcGVydHkgaXMgdW5rbm93bi5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbiAqIFJlbW92ZSBhIHN0eWxlIHByb3BlcnR5LlxuICovXG5cblxudmFyIHJlbW92ZVByb3BlcnR5ID0gZnVuY3Rpb24gcmVtb3ZlUHJvcGVydHkoY3NzUnVsZSwgcHJvcCkge1xuICB0cnkge1xuICAgIC8vIFN1cHBvcnQgQ1NTVE9NLlxuICAgIGlmIChjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwKSB7XG4gICAgICBjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwLmRlbGV0ZShwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3NzUnVsZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gRE9NRXhjZXB0aW9uIFxcXCJcIiArIGVyci5tZXNzYWdlICsgXCJcXFwiIHdhcyB0aHJvd24uIFRyaWVkIHRvIHJlbW92ZSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wICsgXCJcXFwiLlwiKSA6IHZvaWQgMDtcbiAgfVxufTtcbi8qKlxuICogU2V0IHRoZSBzZWxlY3Rvci5cbiAqL1xuXG5cbnZhciBzZXRTZWxlY3RvciA9IGZ1bmN0aW9uIHNldFNlbGVjdG9yKGNzc1J1bGUsIHNlbGVjdG9yVGV4dCkge1xuICBjc3NSdWxlLnNlbGVjdG9yVGV4dCA9IHNlbGVjdG9yVGV4dDsgLy8gUmV0dXJuIGZhbHNlIGlmIHNldHRlciB3YXMgbm90IHN1Y2Nlc3NmdWwuXG4gIC8vIEN1cnJlbnRseSB3b3JrcyBpbiBjaHJvbWUgb25seS5cblxuICByZXR1cm4gY3NzUnVsZS5zZWxlY3RvclRleHQgPT09IHNlbGVjdG9yVGV4dDtcbn07XG4vKipcbiAqIEdldHMgdGhlIGBoZWFkYCBlbGVtZW50IHVwb24gdGhlIGZpcnN0IGNhbGwgYW5kIGNhY2hlcyBpdC5cbiAqIFdlIGFzc3VtZSBpdCBjYW4ndCBiZSBudWxsLlxuICovXG5cblxudmFyIGdldEhlYWQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbn0pO1xuLyoqXG4gKiBGaW5kIGF0dGFjaGVkIHNoZWV0IHdpdGggYW4gaW5kZXggaGlnaGVyIHRoYW4gdGhlIHBhc3NlZCBvbmUuXG4gKi9cblxuZnVuY3Rpb24gZmluZEhpZ2hlclNoZWV0KHJlZ2lzdHJ5LCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVnaXN0cnkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2hlZXQgPSByZWdpc3RyeVtpXTtcblxuICAgIGlmIChzaGVldC5hdHRhY2hlZCAmJiBzaGVldC5vcHRpb25zLmluZGV4ID4gb3B0aW9ucy5pbmRleCAmJiBzaGVldC5vcHRpb25zLmluc2VydGlvblBvaW50ID09PSBvcHRpb25zLmluc2VydGlvblBvaW50KSB7XG4gICAgICByZXR1cm4gc2hlZXQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEZpbmQgYXR0YWNoZWQgc2hlZXQgd2l0aCB0aGUgaGlnaGVzdCBpbmRleC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGZpbmRIaWdoZXN0U2hlZXQocmVnaXN0cnksIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IHJlZ2lzdHJ5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHNoZWV0ID0gcmVnaXN0cnlbaV07XG5cbiAgICBpZiAoc2hlZXQuYXR0YWNoZWQgJiYgc2hlZXQub3B0aW9ucy5pbnNlcnRpb25Qb2ludCA9PT0gb3B0aW9ucy5pbnNlcnRpb25Qb2ludCkge1xuICAgICAgcmV0dXJuIHNoZWV0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBGaW5kIGEgY29tbWVudCB3aXRoIFwianNzXCIgaW5zaWRlLlxuICovXG5cblxuZnVuY3Rpb24gZmluZENvbW1lbnROb2RlKHRleHQpIHtcbiAgdmFyIGhlYWQgPSBnZXRIZWFkKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IGhlYWQuY2hpbGROb2Rlc1tpXTtcblxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4ICYmIG5vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEZpbmQgYSBub2RlIGJlZm9yZSB3aGljaCB3ZSBjYW4gaW5zZXJ0IHRoZSBzaGVldC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGZpbmRQcmV2Tm9kZShvcHRpb25zKSB7XG4gIHZhciByZWdpc3RyeSA9IHNoZWV0cy5yZWdpc3RyeTtcblxuICBpZiAocmVnaXN0cnkubGVuZ3RoID4gMCkge1xuICAgIC8vIFRyeSB0byBpbnNlcnQgYmVmb3JlIHRoZSBuZXh0IGhpZ2hlciBzaGVldC5cbiAgICB2YXIgc2hlZXQgPSBmaW5kSGlnaGVyU2hlZXQocmVnaXN0cnksIG9wdGlvbnMpO1xuXG4gICAgaWYgKHNoZWV0ICYmIHNoZWV0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnQ6IHNoZWV0LnJlbmRlcmVyLmVsZW1lbnQucGFyZW50Tm9kZSxcbiAgICAgICAgbm9kZTogc2hlZXQucmVuZGVyZXIuZWxlbWVudFxuICAgICAgfTtcbiAgICB9IC8vIE90aGVyd2lzZSBpbnNlcnQgYWZ0ZXIgdGhlIGxhc3QgYXR0YWNoZWQuXG5cblxuICAgIHNoZWV0ID0gZmluZEhpZ2hlc3RTaGVldChyZWdpc3RyeSwgb3B0aW9ucyk7XG5cbiAgICBpZiAoc2hlZXQgJiYgc2hlZXQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudDogc2hlZXQucmVuZGVyZXIuZWxlbWVudC5wYXJlbnROb2RlLFxuICAgICAgICBub2RlOiBzaGVldC5yZW5kZXJlci5lbGVtZW50Lm5leHRTaWJsaW5nXG4gICAgICB9O1xuICAgIH1cbiAgfSAvLyBUcnkgdG8gZmluZCBhIGNvbW1lbnQgcGxhY2Vob2xkZXIgaWYgcmVnaXN0cnkgaXMgZW1wdHkuXG5cblxuICB2YXIgaW5zZXJ0aW9uUG9pbnQgPSBvcHRpb25zLmluc2VydGlvblBvaW50O1xuXG4gIGlmIChpbnNlcnRpb25Qb2ludCAmJiB0eXBlb2YgaW5zZXJ0aW9uUG9pbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIGNvbW1lbnQgPSBmaW5kQ29tbWVudE5vZGUoaW5zZXJ0aW9uUG9pbnQpO1xuXG4gICAgaWYgKGNvbW1lbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudDogY29tbWVudC5wYXJlbnROb2RlLFxuICAgICAgICBub2RlOiBjb21tZW50Lm5leHRTaWJsaW5nXG4gICAgICB9O1xuICAgIH0gLy8gSWYgdXNlciBzcGVjaWZpZXMgYW4gaW5zZXJ0aW9uIHBvaW50IGFuZCBpdCBjYW4ndCBiZSBmb3VuZCBpbiB0aGUgZG9jdW1lbnQgLVxuICAgIC8vIGJhZCBzcGVjaWZpY2l0eSBpc3N1ZXMgbWF5IGFwcGVhci5cblxuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJbSlNTXSBJbnNlcnRpb24gcG9pbnQgXFxcIlwiICsgaW5zZXJ0aW9uUG9pbnQgKyBcIlxcXCIgbm90IGZvdW5kLlwiKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogSW5zZXJ0IHN0eWxlIGVsZW1lbnQgaW50byB0aGUgRE9NLlxuICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGUoc3R5bGUsIG9wdGlvbnMpIHtcbiAgdmFyIGluc2VydGlvblBvaW50ID0gb3B0aW9ucy5pbnNlcnRpb25Qb2ludDtcbiAgdmFyIG5leHROb2RlID0gZmluZFByZXZOb2RlKG9wdGlvbnMpO1xuXG4gIGlmIChuZXh0Tm9kZSAhPT0gZmFsc2UgJiYgbmV4dE5vZGUucGFyZW50KSB7XG4gICAgbmV4dE5vZGUucGFyZW50Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dE5vZGUubm9kZSk7XG4gICAgcmV0dXJuO1xuICB9IC8vIFdvcmtzIHdpdGggaWZyYW1lcyBhbmQgYW55IG5vZGUgdHlwZXMuXG5cblxuICBpZiAoaW5zZXJ0aW9uUG9pbnQgJiYgdHlwZW9mIGluc2VydGlvblBvaW50Lm5vZGVUeXBlID09PSAnbnVtYmVyJykge1xuICAgIHZhciBpbnNlcnRpb25Qb2ludEVsZW1lbnQgPSBpbnNlcnRpb25Qb2ludDtcbiAgICB2YXIgcGFyZW50Tm9kZSA9IGluc2VydGlvblBvaW50RWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnROb2RlKSBwYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZSwgaW5zZXJ0aW9uUG9pbnRFbGVtZW50Lm5leHRTaWJsaW5nKTtlbHNlIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsICdbSlNTXSBJbnNlcnRpb24gcG9pbnQgaXMgbm90IGluIHRoZSBET00uJykgOiB2b2lkIDA7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ2V0SGVhZCgpLmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbi8qKlxuICogUmVhZCBqc3Mgbm9uY2Ugc2V0dGluZyBmcm9tIHRoZSBwYWdlIGlmIHRoZSB1c2VyIGhhcyBzZXQgaXQuXG4gKi9cblxuXG52YXIgZ2V0Tm9uY2UgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7XG4gIHJldHVybiBub2RlID8gbm9kZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSA6IG51bGw7XG59KTtcblxudmFyIF9pbnNlcnRSdWxlID0gZnVuY3Rpb24gaW5zZXJ0UnVsZShjb250YWluZXIsIHJ1bGUsIGluZGV4KSB7XG4gIHRyeSB7XG4gICAgaWYgKCdpbnNlcnRSdWxlJyBpbiBjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRSdWxlKHJ1bGUsIGluZGV4KTtcbiAgICB9IC8vIEtleWZyYW1lcyBydWxlLlxuICAgIGVsc2UgaWYgKCdhcHBlbmRSdWxlJyBpbiBjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZFJ1bGUocnVsZSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gXCIgKyBlcnIubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRhaW5lci5jc3NSdWxlc1tpbmRleF07XG59O1xuXG52YXIgZ2V0VmFsaWRSdWxlSW5zZXJ0aW9uSW5kZXggPSBmdW5jdGlvbiBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleChjb250YWluZXIsIGluZGV4KSB7XG4gIHZhciBtYXhJbmRleCA9IGNvbnRhaW5lci5jc3NSdWxlcy5sZW5ndGg7IC8vIEluIGNhc2UgcHJldmlvdXMgaW5zZXJ0aW9uIGZhaWxzLCBwYXNzZWQgaW5kZXggbWlnaHQgYmUgd3JvbmdcblxuICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCB8fCBpbmRleCA+IG1heEluZGV4KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgcmV0dXJuIG1heEluZGV4O1xuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufTtcblxudmFyIGNyZWF0ZVN0eWxlID0gZnVuY3Rpb24gY3JlYXRlU3R5bGUoKSB7XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7IC8vIFdpdGhvdXQgaXQsIElFIHdpbGwgaGF2ZSBhIGJyb2tlbiBzb3VyY2Ugb3JkZXIgc3BlY2lmaWNpdHkgaWYgd2VcbiAgLy8gaW5zZXJ0IHJ1bGVzIGFmdGVyIHdlIGluc2VydCB0aGUgc3R5bGUgdGFnLlxuICAvLyBJdCBzZWVtcyB0byBraWNrLW9mZiB0aGUgc291cmNlIG9yZGVyIHNwZWNpZmljaXR5IGFsZ29yaXRobS5cblxuICBlbC50ZXh0Q29udGVudCA9ICdcXG4nO1xuICByZXR1cm4gZWw7XG59O1xuXG52YXIgRG9tUmVuZGVyZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvLyBXaWxsIGJlIGVtcHR5IGlmIGxpbms6IHRydWUgb3B0aW9uIGlzIG5vdCBzZXQsIGJlY2F1c2VcbiAgLy8gaXQgaXMgb25seSBmb3IgdXNlIHRvZ2V0aGVyIHdpdGggaW5zZXJ0UnVsZSBBUEkuXG4gIGZ1bmN0aW9uIERvbVJlbmRlcmVyKHNoZWV0KSB7XG4gICAgdGhpcy5nZXRQcm9wZXJ0eVZhbHVlID0gZ2V0UHJvcGVydHlWYWx1ZTtcbiAgICB0aGlzLnNldFByb3BlcnR5ID0gc2V0UHJvcGVydHk7XG4gICAgdGhpcy5yZW1vdmVQcm9wZXJ0eSA9IHJlbW92ZVByb3BlcnR5O1xuICAgIHRoaXMuc2V0U2VsZWN0b3IgPSBzZXRTZWxlY3RvcjtcbiAgICB0aGlzLmhhc0luc2VydGVkUnVsZXMgPSBmYWxzZTtcbiAgICB0aGlzLmNzc1J1bGVzID0gW107XG4gICAgLy8gVGhlcmUgaXMgbm8gc2hlZXQgd2hlbiB0aGUgcmVuZGVyZXIgaXMgdXNlZCBmcm9tIGEgc3RhbmRhbG9uZSBTdHlsZVJ1bGUuXG4gICAgaWYgKHNoZWV0KSBzaGVldHMuYWRkKHNoZWV0KTtcbiAgICB0aGlzLnNoZWV0ID0gc2hlZXQ7XG5cbiAgICB2YXIgX3JlZiA9IHRoaXMuc2hlZXQgPyB0aGlzLnNoZWV0Lm9wdGlvbnMgOiB7fSxcbiAgICAgICAgbWVkaWEgPSBfcmVmLm1lZGlhLFxuICAgICAgICBtZXRhID0gX3JlZi5tZXRhLFxuICAgICAgICBlbGVtZW50ID0gX3JlZi5lbGVtZW50O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCB8fCBjcmVhdGVTdHlsZSgpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtanNzJywgJycpO1xuICAgIGlmIChtZWRpYSkgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gICAgaWYgKG1ldGEpIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWV0YScsIG1ldGEpO1xuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgaWYgKG5vbmNlKSB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHN0eWxlIGVsZW1lbnQgaW50byByZW5kZXIgdHJlZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gRG9tUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5hdHRhY2ggPSBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgLy8gSW4gdGhlIGNhc2UgdGhlIGVsZW1lbnQgbm9kZSBpcyBleHRlcm5hbCBhbmQgaXQgaXMgYWxyZWFkeSBpbiB0aGUgRE9NLlxuICAgIGlmICh0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSB8fCAhdGhpcy5zaGVldCkgcmV0dXJuO1xuICAgIGluc2VydFN0eWxlKHRoaXMuZWxlbWVudCwgdGhpcy5zaGVldC5vcHRpb25zKTsgLy8gV2hlbiBydWxlcyBhcmUgaW5zZXJ0ZWQgdXNpbmcgYGluc2VydFJ1bGVgIEFQSSwgYWZ0ZXIgYHNoZWV0LmRldGFjaCgpLmF0dGFjaCgpYFxuICAgIC8vIG1vc3QgYnJvd3NlcnMgY3JlYXRlIGEgbmV3IENTU1N0eWxlU2hlZXQsIGV4Y2VwdCBvZiBhbGwgSUVzLlxuXG4gICAgdmFyIGRlcGxveWVkID0gQm9vbGVhbih0aGlzLnNoZWV0ICYmIHRoaXMuc2hlZXQuZGVwbG95ZWQpO1xuXG4gICAgaWYgKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyAmJiBkZXBsb3llZCkge1xuICAgICAgdGhpcy5oYXNJbnNlcnRlZFJ1bGVzID0gZmFsc2U7XG4gICAgICB0aGlzLmRlcGxveSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHN0eWxlIGVsZW1lbnQgZnJvbSByZW5kZXIgdHJlZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGV0YWNoID0gZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgIGlmICghdGhpcy5zaGVldCkgcmV0dXJuO1xuICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUpIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTsgLy8gSW4gdGhlIG1vc3QgYnJvd3NlcnMsIHJ1bGVzIGluc2VydGVkIHVzaW5nIGluc2VydFJ1bGUoKSBBUEkgd2lsbCBiZSBsb3N0IHdoZW4gc3R5bGUgZWxlbWVudCBpcyByZW1vdmVkLlxuICAgIC8vIFRob3VnaCBJRSB3aWxsIGtlZXAgdGhlbSBhbmQgd2UgbmVlZCBhIGNvbnNpc3RlbnQgYmVoYXZpb3IuXG5cbiAgICBpZiAodGhpcy5zaGVldC5vcHRpb25zLmxpbmspIHtcbiAgICAgIHRoaXMuY3NzUnVsZXMgPSBbXTtcbiAgICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9ICdcXG4nO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW5qZWN0IENTUyBzdHJpbmcgaW50byBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZXBsb3kgPSBmdW5jdGlvbiBkZXBsb3koKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5zaGVldDtcbiAgICBpZiAoIXNoZWV0KSByZXR1cm47XG5cbiAgICBpZiAoc2hlZXQub3B0aW9ucy5saW5rKSB7XG4gICAgICB0aGlzLmluc2VydFJ1bGVzKHNoZWV0LnJ1bGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlxcblwiICsgc2hlZXQudG9TdHJpbmcoKSArIFwiXFxuXCI7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBSdWxlTGlzdCBpbnRvIGFuIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMocnVsZXMsIG5hdGl2ZVBhcmVudCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMuaW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaW5zZXJ0UnVsZShydWxlcy5pbmRleFtpXSwgaSwgbmF0aXZlUGFyZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBhIHJ1bGUgaW50byBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbnNlcnRSdWxlID0gZnVuY3Rpb24gaW5zZXJ0UnVsZShydWxlLCBpbmRleCwgbmF0aXZlUGFyZW50KSB7XG4gICAgaWYgKG5hdGl2ZVBhcmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICBuYXRpdmVQYXJlbnQgPSB0aGlzLmVsZW1lbnQuc2hlZXQ7XG4gICAgfVxuXG4gICAgaWYgKHJ1bGUucnVsZXMpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBydWxlO1xuICAgICAgdmFyIGxhdGVzdE5hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcblxuICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gJ2NvbmRpdGlvbmFsJyB8fCBydWxlLnR5cGUgPT09ICdrZXlmcmFtZXMnKSB7XG4gICAgICAgIHZhciBfaW5zZXJ0aW9uSW5kZXggPSBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleChuYXRpdmVQYXJlbnQsIGluZGV4KTsgLy8gV2UgbmVlZCB0byByZW5kZXIgdGhlIGNvbnRhaW5lciB3aXRob3V0IGNoaWxkcmVuIGZpcnN0LlxuXG5cbiAgICAgICAgbGF0ZXN0TmF0aXZlUGFyZW50ID0gX2luc2VydFJ1bGUobmF0aXZlUGFyZW50LCBwYXJlbnQudG9TdHJpbmcoe1xuICAgICAgICAgIGNoaWxkcmVuOiBmYWxzZVxuICAgICAgICB9KSwgX2luc2VydGlvbkluZGV4KTtcblxuICAgICAgICBpZiAobGF0ZXN0TmF0aXZlUGFyZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmQ3NzUnVsZShydWxlLCBfaW5zZXJ0aW9uSW5kZXgsIGxhdGVzdE5hdGl2ZVBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5zZXJ0UnVsZXMocGFyZW50LnJ1bGVzLCBsYXRlc3ROYXRpdmVQYXJlbnQpO1xuICAgICAgcmV0dXJuIGxhdGVzdE5hdGl2ZVBhcmVudDtcbiAgICB9XG5cbiAgICB2YXIgcnVsZVN0ciA9IHJ1bGUudG9TdHJpbmcoKTtcbiAgICBpZiAoIXJ1bGVTdHIpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgaW5zZXJ0aW9uSW5kZXggPSBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleChuYXRpdmVQYXJlbnQsIGluZGV4KTtcblxuICAgIHZhciBuYXRpdmVSdWxlID0gX2luc2VydFJ1bGUobmF0aXZlUGFyZW50LCBydWxlU3RyLCBpbnNlcnRpb25JbmRleCk7XG5cbiAgICBpZiAobmF0aXZlUnVsZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmhhc0luc2VydGVkUnVsZXMgPSB0cnVlO1xuICAgIHRoaXMucmVmQ3NzUnVsZShydWxlLCBpbnNlcnRpb25JbmRleCwgbmF0aXZlUnVsZSk7XG4gICAgcmV0dXJuIG5hdGl2ZVJ1bGU7XG4gIH07XG5cbiAgX3Byb3RvLnJlZkNzc1J1bGUgPSBmdW5jdGlvbiByZWZDc3NSdWxlKHJ1bGUsIGluZGV4LCBjc3NSdWxlKSB7XG4gICAgcnVsZS5yZW5kZXJhYmxlID0gY3NzUnVsZTsgLy8gV2Ugb25seSB3YW50IHRvIHJlZmVyZW5jZSB0aGUgdG9wIGxldmVsIHJ1bGVzLCBkZWxldGVSdWxlIEFQSSBkb2Vzbid0IHN1cHBvcnQgcmVtb3ZpbmcgbmVzdGVkIHJ1bGVzXG4gICAgLy8gbGlrZSBydWxlcyBpbnNpZGUgbWVkaWEgcXVlcmllcyBvciBrZXlmcmFtZXNcblxuICAgIGlmIChydWxlLm9wdGlvbnMucGFyZW50IGluc3RhbmNlb2YgU3R5bGVTaGVldCkge1xuICAgICAgdGhpcy5jc3NSdWxlcy5zcGxpY2UoaW5kZXgsIDAsIGNzc1J1bGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIGRlbGV0ZVJ1bGUoY3NzUnVsZSkge1xuICAgIHZhciBzaGVldCA9IHRoaXMuZWxlbWVudC5zaGVldDtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY3NzUnVsZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgIHNoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgIHRoaXMuY3NzUnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgQ1NTIFJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mKGNzc1J1bGUpIHtcbiAgICByZXR1cm4gdGhpcy5jc3NSdWxlcy5pbmRleE9mKGNzc1J1bGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG5ldyBDU1MgcnVsZSBhbmQgcmVwbGFjZSB0aGUgZXhpc3Rpbmcgb25lLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXBsYWNlUnVsZSA9IGZ1bmN0aW9uIHJlcGxhY2VSdWxlKGNzc1J1bGUsIHJ1bGUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY3NzUnVsZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgIHRoaXMuZWxlbWVudC5zaGVldC5kZWxldGVSdWxlKGluZGV4KTtcbiAgICB0aGlzLmNzc1J1bGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0UnVsZShydWxlLCBpbmRleCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgcnVsZXMgZWxlbWVudHMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFJ1bGVzID0gZnVuY3Rpb24gZ2V0UnVsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zaGVldC5jc3NSdWxlcztcbiAgfTtcblxuICByZXR1cm4gRG9tUmVuZGVyZXI7XG59KCk7XG5cbnZhciBpbnN0YW5jZUNvdW50ZXIgPSAwO1xuXG52YXIgSnNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSnNzKG9wdGlvbnMpIHtcbiAgICB0aGlzLmlkID0gaW5zdGFuY2VDb3VudGVyKys7XG4gICAgdGhpcy52ZXJzaW9uID0gXCIxMC45LjJcIjtcbiAgICB0aGlzLnBsdWdpbnMgPSBuZXcgUGx1Z2luc1JlZ2lzdHJ5KCk7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgaWQ6IHtcbiAgICAgICAgbWluaWZ5OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGNyZWF0ZUdlbmVyYXRlSWQ6IGNyZWF0ZUdlbmVyYXRlSWQsXG4gICAgICBSZW5kZXJlcjogaXNJbkJyb3dzZXIgPyBEb21SZW5kZXJlciA6IG51bGwsXG4gICAgICBwbHVnaW5zOiBbXVxuICAgIH07XG4gICAgdGhpcy5nZW5lcmF0ZUlkID0gY3JlYXRlR2VuZXJhdGVJZCh7XG4gICAgICBtaW5pZnk6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucGx1Z2lucy51c2UocGx1Z2luc1tpXSwge1xuICAgICAgICBxdWV1ZTogJ2ludGVybmFsJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXR1cChvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGFyZXMgdmFyaW91cyBvcHRpb25zLCBhcHBsaWVzIHBsdWdpbnMuXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCB0d2ljZSBvbiB0aGUgc2FtZSBpbnN0YW5jZSwgYmVjYXVzZSB0aGVyZSBpcyBubyBwbHVnaW5zXG4gICAqIGRlZHVwbGljYXRpb24gbG9naWMuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEpzcy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnNldHVwID0gZnVuY3Rpb24gc2V0dXAob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUlkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY3JlYXRlR2VuZXJhdGVJZCA9IG9wdGlvbnMuY3JlYXRlR2VuZXJhdGVJZDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5pZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmlkID0gX2V4dGVuZHMoe30sIHRoaXMub3B0aW9ucy5pZCwgb3B0aW9ucy5pZCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY3JlYXRlR2VuZXJhdGVJZCB8fCBvcHRpb25zLmlkKSB7XG4gICAgICB0aGlzLmdlbmVyYXRlSWQgPSB0aGlzLm9wdGlvbnMuY3JlYXRlR2VuZXJhdGVJZCh0aGlzLm9wdGlvbnMuaWQpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmluc2VydGlvblBvaW50ICE9IG51bGwpIHRoaXMub3B0aW9ucy5pbnNlcnRpb25Qb2ludCA9IG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQ7XG5cbiAgICBpZiAoJ1JlbmRlcmVyJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuUmVuZGVyZXIgPSBvcHRpb25zLlJlbmRlcmVyO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcblxuXG4gICAgaWYgKG9wdGlvbnMucGx1Z2lucykgdGhpcy51c2UuYXBwbHkodGhpcywgb3B0aW9ucy5wbHVnaW5zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgU3R5bGUgU2hlZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZVN0eWxlU2hlZXQgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZVNoZWV0KHN0eWxlcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgICBpbmRleCA9IF9vcHRpb25zLmluZGV4O1xuXG4gICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgIGluZGV4ID0gc2hlZXRzLmluZGV4ID09PSAwID8gMCA6IHNoZWV0cy5pbmRleCArIDE7XG4gICAgfVxuXG4gICAgdmFyIHNoZWV0ID0gbmV3IFN0eWxlU2hlZXQoc3R5bGVzLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAganNzOiB0aGlzLFxuICAgICAgZ2VuZXJhdGVJZDogb3B0aW9ucy5nZW5lcmF0ZUlkIHx8IHRoaXMuZ2VuZXJhdGVJZCxcbiAgICAgIGluc2VydGlvblBvaW50OiB0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQsXG4gICAgICBSZW5kZXJlcjogdGhpcy5vcHRpb25zLlJlbmRlcmVyLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSkpO1xuICAgIHRoaXMucGx1Z2lucy5vblByb2Nlc3NTaGVldChzaGVldCk7XG4gICAgcmV0dXJuIHNoZWV0O1xuICB9XG4gIC8qKlxuICAgKiBEZXRhY2ggdGhlIFN0eWxlIFNoZWV0IGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgcmVnaXN0cnkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZVN0eWxlU2hlZXQgPSBmdW5jdGlvbiByZW1vdmVTdHlsZVNoZWV0KHNoZWV0KSB7XG4gICAgc2hlZXQuZGV0YWNoKCk7XG4gICAgc2hlZXRzLnJlbW92ZShzaGVldCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJ1bGUgd2l0aG91dCBhIFN0eWxlIFNoZWV0LlxuICAgKiBbRGVwcmVjYXRlZF0gd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZVJ1bGUgPSBmdW5jdGlvbiBjcmVhdGVSdWxlJDEobmFtZSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoc3R5bGUgPT09IHZvaWQgMCkge1xuICAgICAgc3R5bGUgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlIHJ1bGUgd2l0aG91dCBuYW1lIGZvciBpbmxpbmUgc3R5bGVzLlxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJ1bGUodW5kZWZpbmVkLCBuYW1lLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgdmFyIHJ1bGVPcHRpb25zID0gX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBqc3M6IHRoaXMsXG4gICAgICBSZW5kZXJlcjogdGhpcy5vcHRpb25zLlJlbmRlcmVyXG4gICAgfSk7XG5cbiAgICBpZiAoIXJ1bGVPcHRpb25zLmdlbmVyYXRlSWQpIHJ1bGVPcHRpb25zLmdlbmVyYXRlSWQgPSB0aGlzLmdlbmVyYXRlSWQ7XG4gICAgaWYgKCFydWxlT3B0aW9ucy5jbGFzc2VzKSBydWxlT3B0aW9ucy5jbGFzc2VzID0ge307XG4gICAgaWYgKCFydWxlT3B0aW9ucy5rZXlmcmFtZXMpIHJ1bGVPcHRpb25zLmtleWZyYW1lcyA9IHt9O1xuXG4gICAgdmFyIHJ1bGUgPSBjcmVhdGVSdWxlKG5hbWUsIHN0eWxlLCBydWxlT3B0aW9ucyk7XG5cbiAgICBpZiAocnVsZSkgdGhpcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUocnVsZSk7XG4gICAgcmV0dXJuIHJ1bGU7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHBsdWdpbi4gUGFzc2VkIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB3aXRoIGEgcnVsZSBpbnN0YW5jZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXNlID0gZnVuY3Rpb24gdXNlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGx1Z2lucyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHBsdWdpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIF90aGlzLnBsdWdpbnMudXNlKHBsdWdpbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEpzcztcbn0oKTtcblxudmFyIGNyZWF0ZUpzcyA9IGZ1bmN0aW9uIGNyZWF0ZUpzcyhvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgSnNzKG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBTaGVldHNNYW5hZ2VyIGlzIGxpa2UgYSBXZWFrTWFwIHdoaWNoIGlzIGRlc2lnbmVkIHRvIGNvdW50IFN0eWxlU2hlZXRcbiAqIGluc3RhbmNlcyBhbmQgYXR0YWNoL2RldGFjaCBhdXRvbWF0aWNhbGx5LlxuICogVXNlZCBpbiByZWFjdC1qc3MuXG4gKi9cblxudmFyIFNoZWV0c01hbmFnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGVldHNNYW5hZ2VyKCkge1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnNoZWV0cyA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU2hlZXRzTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLnNoZWV0cy5nZXQoa2V5KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnkuc2hlZXQ7XG4gIH07XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChrZXksIHNoZWV0KSB7XG4gICAgaWYgKHRoaXMuc2hlZXRzLmhhcyhrZXkpKSByZXR1cm47XG4gICAgdGhpcy5sZW5ndGgrKztcbiAgICB0aGlzLnNoZWV0cy5zZXQoa2V5LCB7XG4gICAgICBzaGVldDogc2hlZXQsXG4gICAgICByZWZzOiAwXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLm1hbmFnZSA9IGZ1bmN0aW9uIG1hbmFnZShrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLnNoZWV0cy5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSkge1xuICAgICAgaWYgKGVudHJ5LnJlZnMgPT09IDApIHtcbiAgICAgICAgZW50cnkuc2hlZXQuYXR0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGVudHJ5LnJlZnMrKztcbiAgICAgIHJldHVybiBlbnRyeS5zaGVldDtcbiAgICB9XG5cbiAgICB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFNoZWV0c01hbmFnZXI6IGNhbid0IGZpbmQgc2hlZXQgdG8gbWFuYWdlXCIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgX3Byb3RvLnVubWFuYWdlID0gZnVuY3Rpb24gdW5tYW5hZ2Uoa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5zaGVldHMuZ2V0KGtleSk7XG5cbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIGlmIChlbnRyeS5yZWZzID4gMCkge1xuICAgICAgICBlbnRyeS5yZWZzLS07XG4gICAgICAgIGlmIChlbnRyeS5yZWZzID09PSAwKSBlbnRyeS5zaGVldC5kZXRhY2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpO1xuICAgIH1cbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoU2hlZXRzTWFuYWdlciwgW3tcbiAgICBrZXk6IFwic2l6ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTaGVldHNNYW5hZ2VyO1xufSgpO1xuXG4vKipcbiogRXhwb3J0IGEgY29uc3RhbnQgaW5kaWNhdGluZyBpZiB0aGlzIGJyb3dzZXIgaGFzIENTU1RPTSBzdXBwb3J0LlxuKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE4LzAzL2Nzc29tXG4qL1xudmFyIGhhc0NTU1RPTVN1cHBvcnQgPSB0eXBlb2YgQ1NTID09PSAnb2JqZWN0JyAmJiBDU1MgIT0gbnVsbCAmJiAnbnVtYmVyJyBpbiBDU1M7XG5cbi8qKlxuICogRXh0cmFjdHMgYSBzdHlsZXMgb2JqZWN0IHdpdGggb25seSBwcm9wcyB0aGF0IGNvbnRhaW4gZnVuY3Rpb24gdmFsdWVzLlxuICovXG5mdW5jdGlvbiBnZXREeW5hbWljU3R5bGVzKHN0eWxlcykge1xuICB2YXIgdG8gPSBudWxsO1xuXG4gIGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoIXRvKSB0byA9IHt9O1xuICAgICAgdG9ba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YXIgZXh0cmFjdGVkID0gZ2V0RHluYW1pY1N0eWxlcyh2YWx1ZSk7XG5cbiAgICAgIGlmIChleHRyYWN0ZWQpIHtcbiAgICAgICAgaWYgKCF0bykgdG8gPSB7fTtcbiAgICAgICAgdG9ba2V5XSA9IGV4dHJhY3RlZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cbi8qKlxuICogQSBiZXR0ZXIgYWJzdHJhY3Rpb24gb3ZlciBDU1MuXG4gKlxuICogQGNvcHlyaWdodCBPbGVnIElzb25lbiAoU2xvYm9kc2tvaSkgLyBJc29uZW4gMjAxNC1wcmVzZW50XG4gKiBAd2Vic2l0ZSBodHRwczovL2dpdGh1Yi5jb20vY3NzaW5qcy9qc3NcbiAqIEBsaWNlbnNlIE1JVFxuICovXG52YXIgaW5kZXggPSBjcmVhdGVKc3MoKTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG5leHBvcnQgeyBSdWxlTGlzdCwgU2hlZXRzTWFuYWdlciwgU2hlZXRzUmVnaXN0cnksIGNyZWF0ZUpzcyBhcyBjcmVhdGUsIGNyZWF0ZUdlbmVyYXRlSWQsIGNyZWF0ZVJ1bGUsIGdldER5bmFtaWNTdHlsZXMsIGhhc0NTU1RPTVN1cHBvcnQsIHNoZWV0cywgdG9Dc3NWYWx1ZSB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCIvKipcbiAqIExvYWRlci5qcyBmb3IgVXBweVxuICovXG5pbXBvcnQgeyBkZWZhdWx0IGFzIGpzcywgU3R5bGVTaGVldCBhcyBKU1NTdHlsZVNoZWV0IH0gZnJvbSAnanNzJztcbmltcG9ydCBnbG9iYWwgZnJvbSAnanNzLXBsdWdpbi1nbG9iYWwnO1xuaW1wb3J0IHsgZ2xvYmFsU3R5bGUsIGlmcmFtZVN0eWxlLCBiYWNrZHJvcFN0eWxlIH0gZnJvbSAnLi9sb2FkZXIuc3R5bGUnO1xuaW1wb3J0IHsgTWVzc2FnZVN0YXR1cyB9IGZyb20gJy4uLy4uL3V0aWwvY29uc3RhbnRzJztcbmltcG9ydCB7IElFeHBsb3Jlck9wdGlvbnMgfSBmcm9tICcuLi8uLi91dGlsL2ludGVyZmFjZXMnO1xuXG4vKipcbiAgKiBUaGlzIGFycmF5IG1hcHMgdGhlIEFQSSBzZXJ2ZXIgbmFtZSB0byB0aGUgcHJlZmVycmVkIENETiBob3N0aW5nIHRoZSBleHBsb3Jlci4gIElmIHRoZSBcImFwaU5hbWVcIiBhcHBlYXJzIGluIHRoZSBhcGkgc2VydmVyIG5hbWUsXG4gICogdGhlbiB0aGUgbWF0Y2hpbmcgQ0ROIHdpbGwgYmUgdXNlZC4gIFRoaXMgYXJyYXkgd2lsbCBiZSBwYXJzZWQgaW4gb3JkZXIsIGFuZCB0aGUgbGFzdCBlbnRyeSBpcyBhbHdheXMgdGhlIGRlZmF1bHQuXG4gICovXG5jb25zdCBDRE5NYXA6IHsgYXBpTmFtZTogc3RyaW5nOyBjZG46IHN0cmluZyB9W10gPSBbXG4gIHtcbiAgICAvLyBleHBlcmltZW50YWwgYXBpIHNlcnZlci4gIFVzZWQgbW9zdGx5IGZvciB0ZXN0aW5nIGt1YmVybmV0ZXMvQ0ROIGNoYW5nZXNcbiAgICBhcGlOYW1lOiAncGxheWdyb3VuZCcsXG4gICAgY2RuOiAnaHR0cHM6Ly9jbG91ZC1zdG9yYWdlLWludGVncmF0aW9uLnBsYXlncm91bmQuYmxhY2tib2FyZGNkbi5jb20nXG4gIH0sXG4gIHtcbiAgICAvLyB0ZXN0IGFuZCBkZXYgZW52aXJvbm1lbnRzLiAgVXNlZCBieSBDSSBwaXBsZWxpbmUgYW5kIG1vc3QgZGV2IGluc3RhbmNlcy5cbiAgICBhcGlOYW1lOiAnZGV2JyxcbiAgICBjZG46ICdodHRwczovL2Nsb3VkLXN0b3JhZ2UtaW50ZWdyYXRpb24uZGV2LmJsYWNrYm9hcmRjZG4uY29tJ1xuICB9LFxuICB7XG4gICAgLy8gZGVmYXVsdCwgcHJvZHVjdGlvbiBDRE5cbiAgICBhcGlOYW1lOiAnZGVmYXVsdCcsXG4gICAgY2RuOiAnaHR0cHM6Ly9jbG91ZC1zdG9yYWdlLWludGVncmF0aW9uLmJsYWNrYm9hcmRjZG4uY29tJ1xuICB9XG5dO1xuXG5jb25zdCBTVFlMRV9OQU1FX1BSRUZJWCA9ICdjbG91ZC1zdG9yYWdlLWludGVncmF0aW9uLSc7XG5cbi8qKlxuICogRXhwbG9yZXIgb2JqZWN0XG4gKi9cbmV4cG9ydCBjbGFzcyBFeHBsb3JlciB7XG4gIGlmcmFtZUhhc0xvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCwgcHJpdmF0ZSBiYWNrZHJvcDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzID0ge1xuICAgICAgc3VjY2VzczogW10sXG4gICAgICBjYW5jZWw6IFtdLFxuICAgICAgZXJyb3I6IFtdLFxuICAgICAgYWRkQWNjb3VudDogW10sXG4gICAgICBkZWxldGVBY2NvdW50OiBbXVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG1lc3NhZ2UgPT4ge1xuICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5zdGF0dXMgPT09ICdjYW5jZWwnKSB7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBiYWNrZHJvcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2YgdGhpcy5zdWJzY3JpYmVycy5jYW5jZWwpIHtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNhbGwodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVzc2FnZS5kYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBiYWNrZHJvcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2YgdGhpcy5zdWJzY3JpYmVycy5zdWNjZXNzKSB7XG4gICAgICAgICAgc3Vic2NyaWJlci5jYWxsKHVuZGVmaW5lZCwgbWVzc2FnZS5kYXRhLmZpbGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHRoaXMuaWZyYW1lSGFzTG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHBvc3RNZXNzYWdlIHRvIHRoZSBpZnJhbWUgd2hpbGUgdGFraW5nIGludG8gYWNjb3VudCB3aGV0aGVyIG9yIG5vdCB0aGUgaWZyYW1lIGhhcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgcG9zdGVkXG4gICAqL1xuICBwcml2YXRlIHBvc3RNZXNzYWdlVG9JZnJhbWUoc3RhdHVzOiBNZXNzYWdlU3RhdHVzLCBvcHRpb25zPzogSUV4cGxvcmVyT3B0aW9ucyk6IHZvaWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IHN0YXR1czogc3RhdHVzLnRvU3RyaW5nKCksIG9wdGlvbnMgfTtcbiAgICBpZiAodGhpcy5pZnJhbWVIYXNMb2FkZWQpIHtcbiAgICAgIHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRoaXMuaWZyYW1lLnNyYyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRoaXMuaWZyYW1lLnNyYyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZXhwbG9yZXIgb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKi9cbiAgdXBkYXRlKG9wdGlvbnM6IElFeHBsb3Jlck9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlVG9JZnJhbWUoTWVzc2FnZVN0YXR1cy5vcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgZXhwbG9yZXIgd2luZG93XG4gICAqL1xuICBjaG9vc2UoKTogdm9pZCB7XG4gICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5iYWNrZHJvcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLnBvc3RNZXNzYWdlVG9JZnJhbWUoTWVzc2FnZVN0YXR1cy5vcGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dzIHRoZSB1c2VyIG91dCBvZiBhbGwgY2xvdWQgc3RvcmFnZSBjb25uZWN0aW9uc1xuICAgKi9cbiAgbG9nb3V0KCk6IHZvaWQge1xuICAgIHRoaXMucG9zdE1lc3NhZ2VUb0lmcmFtZShNZXNzYWdlU3RhdHVzLmxvZ291dCk7XG4gIH1cblxuICBwcml2YXRlIHN1YnNjcmliZXJzOiB7XG4gICAgc3VjY2VzczogRnVuY3Rpb25bXTtcbiAgICBjYW5jZWw6IEZ1bmN0aW9uW107XG4gICAgZXJyb3I6IEZ1bmN0aW9uW107XG4gICAgYWRkQWNjb3VudDogRnVuY3Rpb25bXTtcbiAgICBkZWxldGVBY2NvdW50OiBGdW5jdGlvbltdO1xuICB9O1xuXG4gIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuc3VjY2Vzcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjYW5jZWwnOlxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmNhbmNlbC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZXJyb3IucHVzaChjYWxsYmFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYWRkQWNjb3VudCc6XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuYWRkQWNjb3VudC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZWxldGVBY2NvdW50JzpcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5kZWxldGVBY2NvdW50LnB1c2goY2FsbGJhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBldmVudCcpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiogVXBweSBMb2FkZXJcbiovXG5leHBvcnQgY2xhc3MgVXBweUxvYWRlciB7XG4gIHByaXZhdGUgY3VycmVudFNjcmlwdFVybDogc3RyaW5nO1xuICBwcml2YXRlIGdsb2JhbFN0eWxlU2hlZXQ6IEpTU1N0eWxlU2hlZXQ8J0BnbG9iYWwnPjtcbiAgcHJpdmF0ZSBpZnJhbWVTdHlsZVNoZWV0OiBKU1NTdHlsZVNoZWV0PCdtb2RhbCc+O1xuICBwcml2YXRlIGJhY2tkcm9wU3R5bGVTaGVldDogSlNTU3R5bGVTaGVldDwnYmFja2Ryb3AnPjtcbiAgcHJpdmF0ZSBiYWNrZHJvcDogSFRNTERpdkVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gZ2V0IHRoZSBjdXJyZW50IHNjcmlwdCBsb2NhdGlvbiBpbiBjYXNlIHdlIG5lZWQgaXRcbiAgICB0aGlzLmN1cnJlbnRTY3JpcHRVcmwgPSAoPEhUTUxTY3JpcHRFbGVtZW50PmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpPy5zcmM7XG5cbiAgICAvLyBhZGQgc3R5bGVzXG4gICAganNzLnVzZShnbG9iYWwoKSk7XG4gICAgdGhpcy5nbG9iYWxTdHlsZVNoZWV0ID0ganNzLmNyZWF0ZVN0eWxlU2hlZXQoZ2xvYmFsU3R5bGUpLmF0dGFjaCgpO1xuICAgIHRoaXMuaWZyYW1lU3R5bGVTaGVldCA9IGpzcy5jcmVhdGVTdHlsZVNoZWV0KGlmcmFtZVN0eWxlLCB7IGNsYXNzTmFtZVByZWZpeDogU1RZTEVfTkFNRV9QUkVGSVggfSkuYXR0YWNoKCk7XG4gICAgdGhpcy5iYWNrZHJvcFN0eWxlU2hlZXQgPSBqc3MuY3JlYXRlU3R5bGVTaGVldChiYWNrZHJvcFN0eWxlLCB7IGNsYXNzTmFtZVByZWZpeDogU1RZTEVfTkFNRV9QUkVGSVggfSkuYXR0YWNoKCk7XG5cbiAgICAvLyBjcmVhdGUgdGhlIGJhY2tkcm9wXG4gICAgdGhpcy5iYWNrZHJvcCA9IDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWQtc3RvcmFnZS1iYWNrZHJvcCcpO1xuICAgIHRoaXMuYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmJhY2tkcm9wLmlkID0gJ2Nsb3VkLXN0b3JhZ2UtYmFja2Ryb3AnO1xuICAgIHRoaXMuYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCh0aGlzLmJhY2tkcm9wU3R5bGVTaGVldC5jbGFzc2VzLmJhY2tkcm9wKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXhwbG9yZXJVcmwob3B0aW9uczogSUV4cGxvcmVyT3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnVzZV9sb2FkZXJfZXhwbG9yZXIpIHtcbiAgICAgIC8vIHVzZSB0aGUgZXhwbG9yZXIgd2l0aCB0aGUgc2FtZSBDRE4gcGF0aCBhcyB0aGUgY3VycmVudCBleHBsb3Jlci4gIFRoaXMgaXMgbm9ybWFsbHkgZG9uZVxuICAgICAgLy8gZm9yIHRlc3RpbmcuICBBc3N1bWUgdGhhdCB0aGUgbG9hZGVyIGlzIGxvY2F0ZWQgYXQgPHNvbWV1cmw+L2xvYWRlci9qcy9sb2FkZXIuanMgYW5kXG4gICAgICAvLyB0aGUgZXhwbG9yZXIgaXMgbG9jYXRlZCBhdCA8c29tZXVybD4vZXhwbG9yZXIvZXhwbG9yZXIuaHRtbFxuICAgICAgY29uc3QgdXJsUGFydHMgPSB0aGlzLmN1cnJlbnRTY3JpcHRVcmwuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGJhc2VJbmRleCA9IHVybFBhcnRzLmluZGV4T2YoJ2xvYWRlcicpO1xuICAgICAgaWYgKGJhc2VJbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgZXhwbG9yZXJVcmwgPSB1cmxQYXJ0cy5zbGljZSgwLCBiYXNlSW5kZXgpLmpvaW4oJy8nKTtcbiAgICAgICAgcmV0dXJuIGV4cGxvcmVyVXJsO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmVycm9yKCd1cHB5OiBFUlJPUjogbm9uc3RhbmRhcmQgY3VycmVudFNjcmlwdCB1cmwuICBDYW5ub3QgdXNlIGxvYWRlciBleHBsb3JlcicpO1xuICAgIH1cblxuICAgIGNvbnN0IGFwaVNlcnZlciA9IG9wdGlvbnM/LmJhc2VfdXJsID8/ICcnO1xuICAgIC8vIHJldHVybiB0aGUgZmlyc3QgQ0ROTWFwIGVudHJ5IHRoYXQgbWF0Y2hlcyB0aGUgYXBpIHNlcnZlciwgb3IgdGhlIGxhc3QgZW50cnkgaWYgbm9uZSBmb3VuZFxuICAgIHJldHVybiBDRE5NYXAuZmluZChpdGVtID0+IGFwaVNlcnZlci5pbmRleE9mKGl0ZW0uYXBpTmFtZSkgPiAwKT8uY2RuID8/IENETk1hcFtDRE5NYXAubGVuZ3RoIC0gMV0uY2RuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cGxvcmVyIGluaXRpYWxpemF0aW9uLiAgVXNlIGFycm93IGZ1bmN0aW9uIHRvIHByZXNlcnZlIFwidGhpc1wiXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBwdWJsaWMgZXhwbG9yZXIgPSAob3B0aW9uczogSUV4cGxvcmVyT3B0aW9ucyk6IEV4cGxvcmVyID0+IHtcbiAgICAvLyBjcmVhdGUgdGhlIGlmcmFtZSAtLSB3ZSBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZXZlcnkgdGltZVxuICAgIGNvbnN0IHRleHREaXJlY3Rpb24gPSBvcHRpb25zLnRleHRfZGlyZWN0aW9uID8/ICdsdHInO1xuICAgIGNvbnN0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgZnJhbWUuaWQgPSBgY2xvdWQtc3RvcmFnZS1pZnJhbWUtJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCAqKiAxMil9YDtcbiAgICBmcmFtZS5jbGFzc0xpc3QuYWRkKCdrbG91ZGxlc3MtbW9kYWwnLCB0aGlzLmlmcmFtZVN0eWxlU2hlZXQuY2xhc3Nlcy5tb2RhbCk7XG4gICAgZnJhbWUuY2xhc3NMaXN0LmFkZCgnY2xvdWQtc3RvcmFnZS1pbnRlZ3JhdGlvbi1tb2RhbCcsIHRoaXMuaWZyYW1lU3R5bGVTaGVldC5jbGFzc2VzLm1vZGFsKTtcbiAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ2V4cGxvcmVyJyk7XG4gICAgZnJhbWUuc2V0QXR0cmlidXRlKCdkaXInLCB0ZXh0RGlyZWN0aW9uKTtcbiAgICBjb25zdCBmcmFtZVVybCA9IG5ldyBVUkwoYCR7dGhpcy5nZXRFeHBsb3JlclVybChvcHRpb25zKX0vZXhwbG9yZXIvZXhwbG9yZXIuaHRtbGApO1xuICAgIGZyYW1lVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ29yaWdpbicsIHdpbmRvdy5vcmlnaW4pO1xuICAgIGZyYW1lVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2Jhc2VfdXJsJywgb3B0aW9ucy5iYXNlX3VybCA/PyAnJyk7XG4gICAgZnJhbWVVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgndGV4dF9kaXJlY3Rpb24nLCB0ZXh0RGlyZWN0aW9uKTtcbiAgICBpZiAob3B0aW9ucy5tdWx0aXNlbGVjdCA9PT0gZmFsc2UpIHtcbiAgICAgIGZyYW1lVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2FsbG93X3NpbmdsZV9maWxlJywgJ3RydWUnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2hvd19kdW1teV9wcm92aWRlcikge1xuICAgICAgZnJhbWVVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnc2hvd19kdW1teV9wcm92aWRlcicsICd0cnVlJyk7XG4gICAgfVxuICAgIGZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgZnJhbWVVcmwudG9TdHJpbmcoKSk7XG4gICAgZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYW1lKTtcblxuICAgIC8vIGF0dGFjaCB0aGUgYmFja2Ryb3AgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5XG4gICAgLy8gd2UgZG8gdGhpcyBoZXJlIGluc3RlYWQgb2YgdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2UgZG9jdW1lbnQuYm9keSBtYXkgbm90IGJlIHJlYWR5IHRoZW5cbiAgICBjb25zdCBleGlzdGluZ0JhY2tkcm9wID0gPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZC1zdG9yYWdlLWJhY2tkcm9wJyk7XG4gICAgaWYgKGV4aXN0aW5nQmFja2Ryb3AgPT09IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZHJvcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBFeHBsb3JlcihmcmFtZSwgdGhpcy5iYWNrZHJvcCk7XG4gIH1cblxuICBwdWJsaWMgYXV0aGVudGljYXRvcigpOiB2b2lkIHtcbiAgICAvLyB0b2RvOiB0aGlzIHdvbid0IGJlIG5lZWRlZCBnb2luZyBmb3J3YXJkLiAgSnVzdCBhIHNoaW0gdG8gcHJldmVudCBMZWFybiBmcm9tIGNvbXBsYWluaW5nIHRoYXQgaXQgaXMgbWlzc2luZy5cbiAgfVxufVxuKDxhbnk+d2luZG93KS5LbG91ZGxlc3MgPSBuZXcgVXBweUxvYWRlcigpO1xuKDxhbnk+d2luZG93KS5DbG91ZFN0b3JhZ2VJbnRlZ3JhdGlvbiA9ICg8YW55PndpbmRvdykuS2xvdWRsZXNzO1xuIiwiLyoqXG4gKiBHbG9iYWwgc3R5bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBnbG9iYWxTdHlsZSA9IHtcbiAgJ0BnbG9iYWwnOiB7XG4gIH1cbn07XG5cbi8qKlxuICogSWZyYW1lIHN0eWxlc1xuICovXG5leHBvcnQgY29uc3QgaWZyYW1lU3R5bGUgPSB7XG4gIG1vZGFsOiB7XG4gICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAnYm94LXNpemluZyc6ICdib3JkZXItYm94JyxcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB0b3A6ICcyMCUnLFxuICAgIGxlZnQ6ICc1MCUnLFxuICAgIHdpZHRoOiAnNjQwcHgnLFxuICAgIGhlaWdodDogJzYwdmgnLFxuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLFxuICAgIGJvcmRlcjogJ3NvbGlkIDAgIzY2NicsXG4gICAgJ2JvcmRlci1yYWRpdXMnOiAnMnB4JyxcbiAgICAnYm94LXNoYWRvdyc6ICcwIDAgMTBweCByZ2JhKDAsMCwwLDAuNCknLFxuICAgIHRyYW5zaXRpb246ICdhbGwgMCcsXG4gICAgJy13ZWJraXQtdHJhbnNpdGlvbic6ICdhbGwgMCcsXG4gICAgJ3otaW5kZXgnOiAnOTk5OScsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZhZmFmYSdcbiAgfSxcbiAgJ0BtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMDI0cHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6NzY4cHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2Utd2lkdGg6MTAyNHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLWhlaWdodDo3NjhweCknOiB7XG4gICAgbW9kYWw6IHtcbiAgICAgIGhlaWdodDogJzg0dmgnLFxuICAgICAgdG9wOiAnOCUnLFxuICAgIH1cbiAgfSxcblxuICAnQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjY0MHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OjUxMnB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLXdpZHRoOjY0MHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLWhlaWdodDo1MTJweCknOiB7XG4gICAgbW9kYWw6IHtcbiAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICdtaW4td2lkdGgnOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHRvcDogJzAnLFxuICAgICAgbGVmdDogJzAnLFxuICAgICAgdHJhbnNmb3JtOiAnbm9uZScsXG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEJhY2tkcm9wIHN0eWxlc1xuICovXG5leHBvcnQgY29uc3QgYmFja2Ryb3BTdHlsZSA9IHtcbiAgYmFja2Ryb3A6IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICBtYXJnaW46ICcwJyxcbiAgICB0b3A6ICcwJyxcbiAgICBsZWZ0OiAnMCcsXG4gICAgcGFkZGluZzogJzAnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgZGlzcGxheTogJ25vbmUnLFxuICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3JnYmEoMCwwLDAsMC42KScsXG4gICAgJ3otaW5kZXgnOiAnOTk5OCcsXG4gICAgb3BhY2l0eTogJy41J1xuICB9XG59O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgUnVsZUxpc3QgfSBmcm9tICdqc3MnO1xuXG52YXIgYXQgPSAnQGdsb2JhbCc7XG52YXIgYXRQcmVmaXggPSAnQGdsb2JhbCAnO1xuXG52YXIgR2xvYmFsQ29udGFpbmVyUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsb2JhbENvbnRhaW5lclJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnZ2xvYmFsJztcbiAgICB0aGlzLmF0ID0gYXQ7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5ydWxlcyA9IG5ldyBSdWxlTGlzdChfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgcGFyZW50OiB0aGlzXG4gICAgfSkpO1xuXG4gICAgZm9yICh2YXIgc2VsZWN0b3IgaW4gc3R5bGVzKSB7XG4gICAgICB0aGlzLnJ1bGVzLmFkZChzZWxlY3Rvciwgc3R5bGVzW3NlbGVjdG9yXSk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcy5wcm9jZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHJ1bGUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEdsb2JhbENvbnRhaW5lclJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5nZXRSdWxlID0gZnVuY3Rpb24gZ2V0UnVsZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuZ2V0KG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHJ1bGUsIHJ1biBwbHVnaW5zLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRSdWxlID0gZnVuY3Rpb24gYWRkUnVsZShuYW1lLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHZhciBydWxlID0gdGhpcy5ydWxlcy5hZGQobmFtZSwgc3R5bGUsIG9wdGlvbnMpO1xuICAgIGlmIChydWxlKSB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBydWxlLCBydW4gcGx1Z2lucy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwbGFjZVJ1bGUgPSBmdW5jdGlvbiByZXBsYWNlUnVsZShuYW1lLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHZhciBuZXdSdWxlID0gdGhpcy5ydWxlcy5yZXBsYWNlKG5hbWUsIHN0eWxlLCBvcHRpb25zKTtcbiAgICBpZiAobmV3UnVsZSkgdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUobmV3UnVsZSk7XG4gICAgcmV0dXJuIG5ld1J1bGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmRleCBvZiBhIHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mKHJ1bGUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5pbmRleE9mKHJ1bGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gR2xvYmFsQ29udGFpbmVyUnVsZTtcbn0oKTtcblxudmFyIEdsb2JhbFByZWZpeGVkUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsb2JhbFByZWZpeGVkUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ2dsb2JhbCc7XG4gICAgdGhpcy5hdCA9IGF0O1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBzZWxlY3RvciA9IGtleS5zdWJzdHIoYXRQcmVmaXgubGVuZ3RoKTtcbiAgICB0aGlzLnJ1bGUgPSBvcHRpb25zLmpzcy5jcmVhdGVSdWxlKHNlbGVjdG9yLCBzdHlsZSwgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHBhcmVudDogdGhpc1xuICAgIH0pKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8yID0gR2xvYmFsUHJlZml4ZWRSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8yLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnJ1bGUgPyB0aGlzLnJ1bGUudG9TdHJpbmcob3B0aW9ucykgOiAnJztcbiAgfTtcblxuICByZXR1cm4gR2xvYmFsUHJlZml4ZWRSdWxlO1xufSgpO1xuXG52YXIgc2VwYXJhdG9yUmVnRXhwID0gL1xccyosXFxzKi9nO1xuXG5mdW5jdGlvbiBhZGRTY29wZShzZWxlY3Rvciwgc2NvcGUpIHtcbiAgdmFyIHBhcnRzID0gc2VsZWN0b3Iuc3BsaXQoc2VwYXJhdG9yUmVnRXhwKTtcbiAgdmFyIHNjb3BlZCA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBzY29wZWQgKz0gc2NvcGUgKyBcIiBcIiArIHBhcnRzW2ldLnRyaW0oKTtcbiAgICBpZiAocGFydHNbaSArIDFdKSBzY29wZWQgKz0gJywgJztcbiAgfVxuXG4gIHJldHVybiBzY29wZWQ7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5lc3RlZEdsb2JhbENvbnRhaW5lclJ1bGUocnVsZSwgc2hlZXQpIHtcbiAgdmFyIG9wdGlvbnMgPSBydWxlLm9wdGlvbnMsXG4gICAgICBzdHlsZSA9IHJ1bGUuc3R5bGU7XG4gIHZhciBydWxlcyA9IHN0eWxlID8gc3R5bGVbYXRdIDogbnVsbDtcbiAgaWYgKCFydWxlcykgcmV0dXJuO1xuXG4gIGZvciAodmFyIG5hbWUgaW4gcnVsZXMpIHtcbiAgICBzaGVldC5hZGRSdWxlKG5hbWUsIHJ1bGVzW25hbWVdLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgc2VsZWN0b3I6IGFkZFNjb3BlKG5hbWUsIHJ1bGUuc2VsZWN0b3IpXG4gICAgfSkpO1xuICB9XG5cbiAgZGVsZXRlIHN0eWxlW2F0XTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJlZml4ZWRHbG9iYWxSdWxlKHJ1bGUsIHNoZWV0KSB7XG4gIHZhciBvcHRpb25zID0gcnVsZS5vcHRpb25zLFxuICAgICAgc3R5bGUgPSBydWxlLnN0eWxlO1xuXG4gIGZvciAodmFyIHByb3AgaW4gc3R5bGUpIHtcbiAgICBpZiAocHJvcFswXSAhPT0gJ0AnIHx8IHByb3Auc3Vic3RyKDAsIGF0Lmxlbmd0aCkgIT09IGF0KSBjb250aW51ZTtcbiAgICB2YXIgc2VsZWN0b3IgPSBhZGRTY29wZShwcm9wLnN1YnN0cihhdC5sZW5ndGgpLCBydWxlLnNlbGVjdG9yKTtcbiAgICBzaGVldC5hZGRSdWxlKHNlbGVjdG9yLCBzdHlsZVtwcm9wXSwgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHNlbGVjdG9yOiBzZWxlY3RvclxuICAgIH0pKTtcbiAgICBkZWxldGUgc3R5bGVbcHJvcF07XG4gIH1cbn1cbi8qKlxuICogQ29udmVydCBuZXN0ZWQgcnVsZXMgdG8gc2VwYXJhdGUsIHJlbW92ZSB0aGVtIGZyb20gb3JpZ2luYWwgc3R5bGVzLlxuICovXG5cblxuZnVuY3Rpb24ganNzR2xvYmFsKCkge1xuICBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUobmFtZSwgc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFuYW1lKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChuYW1lID09PSBhdCkge1xuICAgICAgcmV0dXJuIG5ldyBHbG9iYWxDb250YWluZXJSdWxlKG5hbWUsIHN0eWxlcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVbMF0gPT09ICdAJyAmJiBuYW1lLnN1YnN0cigwLCBhdFByZWZpeC5sZW5ndGgpID09PSBhdFByZWZpeCkge1xuICAgICAgcmV0dXJuIG5ldyBHbG9iYWxQcmVmaXhlZFJ1bGUobmFtZSwgc3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LnR5cGUgPT09ICdnbG9iYWwnIHx8IHBhcmVudC5vcHRpb25zLnBhcmVudCAmJiBwYXJlbnQub3B0aW9ucy5wYXJlbnQudHlwZSA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgb3B0aW9ucy5zY29wZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3IgJiYgb3B0aW9ucy5zY29wZWQgPT09IGZhbHNlKSB7XG4gICAgICBvcHRpb25zLnNlbGVjdG9yID0gbmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJvY2Vzc1J1bGUocnVsZSwgc2hlZXQpIHtcbiAgICBpZiAocnVsZS50eXBlICE9PSAnc3R5bGUnIHx8ICFzaGVldCkgcmV0dXJuO1xuICAgIGhhbmRsZU5lc3RlZEdsb2JhbENvbnRhaW5lclJ1bGUocnVsZSwgc2hlZXQpO1xuICAgIGhhbmRsZVByZWZpeGVkR2xvYmFsUnVsZShydWxlLCBzaGVldCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG9uQ3JlYXRlUnVsZTogb25DcmVhdGVSdWxlLFxuICAgIG9uUHJvY2Vzc1J1bGU6IG9uUHJvY2Vzc1J1bGVcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQganNzR2xvYmFsO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==